import { Injectable, Component, ElementRef, Input, Output, EventEmitter, Inject, HostListener, NgZone, NgModule } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import { Observable } from 'rxjs/Observable';
import 'rxjs/add/observable/of';
import 'rxjs/add/operator/delay';
import { __spread } from 'tslib';
import 'rxjs/add/observable/fromEvent';
import { BrowserModule } from '@angular/platform-browser';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var BootstrapService = /** @class */ (function () {
    function BootstrapService() {
        this.maxColumns = 12;
        this.columnPrefix = 'col-';
        this.breakpoints = {
            xl: 'd-xl-none',
            lg: 'd-lg-none',
            md: 'd-md-none',
            sm: 'd-sm-none',
            xs: 'd-none'
        };
    }
    /**
     * @return {?}
     */
    BootstrapService.prototype.getCurrentBreakpoint = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ breakpoint = '';
        var /** @type {?} */ marker = document.createElement('div');
        marker.style.visibility = 'hidden';
        document.body.appendChild(marker);
        var /** @type {?} */ breakpointKeys = Object.keys(this.breakpoints);
        for (var /** @type {?} */ i = 0; i < breakpointKeys.length; i++) {
            breakpoint = breakpointKeys[i];
            marker.classList.add(this.breakpoints[breakpoint]);
            var /** @type {?} */ style = window.getComputedStyle(marker);
            if (style.display === 'none') {
                break;
            }
        }
        marker.remove();
        return breakpoint;
    };
    /**
     * @return {?}
     */
    BootstrapService.prototype.hasBreakpointChanged = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ breakpoint = this.getCurrentBreakpoint();
        if (breakpoint !== this.currentBreakpoint) {
            this.currentBreakpoint = breakpoint;
            return true;
        }
        return false;
    };
    /**
     * @param {?} getWidth
     * @return {?}
     */
    BootstrapService.prototype.getWidth = /**
     * @param {?} getWidth
     * @return {?}
     */
    function (getWidth) {
        var /** @type {?} */ breakpoint = this.getCurrentBreakpoint();
        var /** @type {?} */ width = getWidth(breakpoint);
        if (!width) {
            // Look for the largest breakpoint with a width that is smaller than the current breakpoint.
            var /** @type {?} */ smallerBreakpoints = this.getSmallerBreakpoints(breakpoint);
            while (!width && smallerBreakpoints.length) {
                breakpoint = smallerBreakpoints.shift();
                width = getWidth(breakpoint);
            }
        }
        return width;
    };
    /**
     * @param {?} makeFullWidth
     * @return {?}
     */
    BootstrapService.prototype.makeFullWidth = /**
     * @param {?} makeFullWidth
     * @return {?}
     */
    function (makeFullWidth) {
        var _this = this;
        var /** @type {?} */ breakpoint = this.getCurrentBreakpoint();
        // Make each breakpoint at the current size and smaller the full width of a row.
        this.getSmallerBreakpoints(breakpoint)
            .concat([breakpoint])
            .forEach(function (x) {
            makeFullWidth(x, _this.maxColumns);
        });
    };
    /**
     * @param {?} widget
     * @param {?} targetWidthOfWidget
     * @return {?}
     */
    BootstrapService.prototype.resize = /**
     * @param {?} widget
     * @param {?} targetWidthOfWidget
     * @return {?}
     */
    function (widget, targetWidthOfWidget) {
        var /** @type {?} */ breakpoint = this.getCurrentBreakpoint();
        var /** @type {?} */ width = widget.getCurrentWidth(breakpoint);
        if (!width) {
            // Look for the largest breakpoint with a width that is smaller than the current breakpoint.
            var /** @type {?} */ smallerBreakpoints = this.getSmallerBreakpoints(breakpoint);
            while (!width && smallerBreakpoints.length) {
                breakpoint = smallerBreakpoints.shift();
                width = widget.getCurrentWidth(breakpoint);
            }
        }
        widget.resize(breakpoint, targetWidthOfWidget);
    };
    /**
     * @param {?} widget
     * @return {?}
     */
    BootstrapService.prototype.getClasses = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        var /** @type {?} */ widths = widget.getCurrentWidths();
        return Object.keys(widths)
            .map(function (x) {
            var /** @type {?} */ width = widths[x];
            if (x === 'xs') {
                return 'col-' + width;
            }
            return 'col-' + x + '-' + width;
        });
    };
    /**
     * @param {?} breakpoint
     * @return {?}
     */
    BootstrapService.prototype.getSmallerBreakpoints = /**
     * @param {?} breakpoint
     * @return {?}
     */
    function (breakpoint) {
        var /** @type {?} */ allBreakpoints = Object.keys(this.breakpoints);
        var /** @type {?} */ smallerBreakpoints = allBreakpoints.slice(allBreakpoints.indexOf(breakpoint) + 1, allBreakpoints.length);
        return smallerBreakpoints;
    };
    BootstrapService.decorators = [
        { type: Injectable },
    ];
    /** @nocollapse */
    BootstrapService.ctorParameters = function () { return []; };
    return BootstrapService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var DashboardComponent = /** @class */ (function () {
    function DashboardComponent() {
    }
    DashboardComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-dashboard',
                    template: "<app-widgets-panel class='row'></app-widgets-panel>",
                    styles: [""]
                },] },
    ];
    return DashboardComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var SpacerComponent = /** @class */ (function () {
    function SpacerComponent(elementRef) {
        this.elementRef = elementRef;
        this.spacerHovered = new EventEmitter();
        this.spacerUnhovered = new EventEmitter();
    }
    /**
     * @return {?}
     */
    SpacerComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () { };
    /**
     * @return {?}
     */
    SpacerComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.elementRef.nativeElement.classList.add('col-12');
    };
    /**
     * @return {?}
     */
    SpacerComponent.prototype.onMouseEnter = /**
     * @return {?}
     */
    function () {
        this.spacerHovered.emit(this);
    };
    /**
     * @return {?}
     */
    SpacerComponent.prototype.onTouchEnter = /**
     * @return {?}
     */
    function () {
        this.spacerHovered.emit(this);
    };
    /**
     * @return {?}
     */
    SpacerComponent.prototype.onMouseLeave = /**
     * @return {?}
     */
    function () {
        this.spacerUnhovered.emit();
    };
    /**
     * @return {?}
     */
    SpacerComponent.prototype.onTouchLeave = /**
     * @return {?}
     */
    function () {
        this.spacerUnhovered.emit();
    };
    SpacerComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-widgets-panel-spacer',
                    template: "<div (mouseenter)='onMouseEnter()' (touchenter)='onTouchEnter()' (mouseleave)='onMouseLeave()' (touchleave)='onTouchLeave()'>\n</div>",
                    styles: [":host{height:30px}:host>div{height:100%}"]
                },] },
    ];
    /** @nocollapse */
    SpacerComponent.ctorParameters = function () { return [
        { type: ElementRef, },
    ]; };
    SpacerComponent.propDecorators = {
        "spacer": [{ type: Input },],
        "spacerHovered": [{ type: Output },],
        "spacerUnhovered": [{ type: Output },],
    };
    return SpacerComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Library = /** @class */ (function () {
    function Library(renderedWidgets, availableWidgets) {
        this.renderedWidgets = renderedWidgets;
        this.availableWidgets = availableWidgets;
        this.isDisplayed = false;
        this.buildLibrary();
    }
    /**
     * @param {?} widget
     * @return {?}
     */
    Library.prototype.isWidgetRendered = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        return this.renderedWidgets
            .map(function (renderedWidget) { return renderedWidget.id; })
            .indexOf(widget.id) >= 0;
    };
    /**
     * @return {?}
     */
    Library.prototype.buildLibrary = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.widgets = this.availableWidgets.map(function (widget) {
            var /** @type {?} */ isRendered = _this.isWidgetRendered(widget);
            return { isRendered: isRendered, widget: widget };
        });
    };
    /**
     * @param {?} xPosition
     * @param {?} yPosition
     * @return {?}
     */
    Library.prototype.edit = /**
     * @param {?} xPosition
     * @param {?} yPosition
     * @return {?}
     */
    function (xPosition, yPosition) {
        this.isDisplayed = true;
        this.xPosition = xPosition;
        this.yPosition = yPosition;
    };
    /**
     * @return {?}
     */
    Library.prototype.hide = /**
     * @return {?}
     */
    function () {
        this.isDisplayed = false;
        this.xPosition = null;
        this.yPosition = null;
    };
    /**
     * @param {?} widget
     * @return {?}
     */
    Library.prototype.renderWidget = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        this.renderedWidgets.push(widget);
        this.buildLibrary();
    };
    /**
     * @param {?} widget
     * @return {?}
     */
    Library.prototype.derenderWidget = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        var _this = this;
        this.renderedWidgets
            .filter(function (x) { return x.id === widget.id; })
            .forEach(function (x) {
            _this.renderedWidgets.splice(_this.renderedWidgets.indexOf(x), 1);
        });
        this.buildLibrary();
    };
    return Library;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var LayoutEditor = /** @class */ (function () {
    function LayoutEditor() {
        this.isDisplayed = false;
    }
    /**
     * @param {?} xPosition
     * @param {?} yPosition
     * @return {?}
     */
    LayoutEditor.prototype.edit = /**
     * @param {?} xPosition
     * @param {?} yPosition
     * @return {?}
     */
    function (xPosition, yPosition) {
        this.isDisplayed = true;
        this.xPosition = xPosition;
        this.yPosition = yPosition;
    };
    /**
     * @return {?}
     */
    LayoutEditor.prototype.hide = /**
     * @return {?}
     */
    function () {
        this.isDisplayed = false;
        this.xPosition = null;
        this.yPosition = null;
    };
    return LayoutEditor;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var PanelComponent = /** @class */ (function () {
    function PanelComponent(document, widgetsService, bootstrapService) {
        this.document = document;
        this.widgetsService = widgetsService;
        this.bootstrapService = bootstrapService;
        this.layoutEditor = new LayoutEditor();
        this.resizeGuidelines = [];
        this.isOverlayDisplayed = false;
    }
    /**
     * @return {?}
     */
    PanelComponent.prototype.onResize = /**
     * @return {?}
     */
    function () {
        if (this.bootstrapService.hasBreakpointChanged()) {
            this.addHorizontalSpacers();
        }
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.preventHighlightingWhileMoving = /**
     * @return {?}
     */
    function () {
        this.document.body.classList.add('no-highlighting');
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.allowHighlighting = /**
     * @return {?}
     */
    function () {
        this.document.body.classList.remove('no-highlighting');
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.createSpacer = /**
     * @return {?}
     */
    function () {
        return {
            spacer: {}
        };
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.clearSpacers = /**
     * @return {?}
     */
    function () {
        for (var /** @type {?} */ i = this.items.length - 1; i >= 0; i--) {
            if (this.items[i].spacer) {
                this.items.splice(i, 1);
            }
        }
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.addHorizontalSpacers = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.clearSpacers();
        var /** @type {?} */ usedWidthOnRow = 0;
        var /** @type {?} */ indexesToInsertSpacer = [0];
        for (var /** @type {?} */ i = 0; i < this.items.length; i++) {
            var /** @type {?} */ widget = this.items[i].widget || this.items[i].dropTarget;
            if (this.movingWidgetComponent && widget === this.movingWidgetComponent.widget) {
                continue;
            }
            var /** @type {?} */ widgetWidth = this.bootstrapService.getWidth(widget.getCurrentWidth.bind(widget));
            usedWidthOnRow += widgetWidth;
            if (usedWidthOnRow === this.bootstrapService.maxColumns) {
                indexesToInsertSpacer.push(i + 1);
                usedWidthOnRow = 0;
            }
            else if (usedWidthOnRow > this.bootstrapService.maxColumns) {
                indexesToInsertSpacer.push(i);
                usedWidthOnRow = widgetWidth;
            }
        }
        indexesToInsertSpacer
            .reverse()
            .forEach(function (x) {
            _this.items.splice(x, 0, _this.createSpacer());
        });
        if (!this.items[this.items.length - 1].spacer) {
            this.items.push(this.createSpacer());
        }
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.toggleOverlay = /**
     * @return {?}
     */
    function () {
        this.isOverlayDisplayed = !this.isOverlayDisplayed;
        if (this.isOverlayDisplayed) {
            document.getElementById('overlay').style.display = 'block';
        }
        else {
            document.getElementById('overlay').style.display = 'none';
        }
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ renderedWidgets = this.widgetsService.getRenderedWidgets();
        this.items = renderedWidgets.map(function (x) {
            return { widget: x };
        });
        this.addHorizontalSpacers();
        var /** @type {?} */ availableWidgets = this.widgetsService.getAvailableWidgets();
        this.library = new Library(renderedWidgets, availableWidgets);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    PanelComponent.prototype.onEditLibrary = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.library.edit(event.pageX, event.pageY);
        this.toggleOverlay();
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.onHideLibrary = /**
     * @return {?}
     */
    function () {
        this.library.hide();
        this.toggleOverlay();
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.clearExistingDropTarget = /**
     * @return {?}
     */
    function () {
        for (var /** @type {?} */ i = 0; i < this.items.length; i++) {
            if (this.items[i].dropTarget) {
                this.items.splice(i, 1);
            }
        }
    };
    /**
     * @param {?} movingWidget
     * @param {?} indexOfDrop
     * @return {?}
     */
    PanelComponent.prototype.isWidgetMovingDown = /**
     * @param {?} movingWidget
     * @param {?} indexOfDrop
     * @return {?}
     */
    function (movingWidget, indexOfDrop) {
        var /** @type {?} */ indexOfWidgetBeforeMove = this.items
            .map(function (x) { return x.widget; })
            .indexOf(movingWidget);
        return indexOfDrop > indexOfWidgetBeforeMove;
    };
    /**
     * @param {?} currentResident
     * @param {?} newResident
     * @return {?}
     */
    PanelComponent.prototype.insertDropTarget = /**
     * @param {?} currentResident
     * @param {?} newResident
     * @return {?}
     */
    function (currentResident, newResident) {
        if (!newResident) {
            newResident = currentResident;
        }
        this.clearExistingDropTarget();
        var /** @type {?} */ dropTarget = newResident.widget.clone();
        var /** @type {?} */ indexOfDrop;
        if (currentResident instanceof SpacerComponent) {
            this.bootstrapService.makeFullWidth(dropTarget.makeFullWidth.bind(dropTarget));
            indexOfDrop = this.items
                .map(function (x) { return x.spacer; })
                .indexOf(currentResident.spacer);
        }
        else {
            indexOfDrop = this.items
                .map(function (x) { return x.widget; })
                .indexOf(currentResident.widget);
            if (this.isWidgetMovingDown(newResident.widget, indexOfDrop)) {
                indexOfDrop++;
            }
        }
        var /** @type {?} */ height = newResident.getHeightInformation().height;
        this.items.splice(indexOfDrop, 0, { dropTarget: dropTarget, height: height });
    };
    /**
     * @param {?} widgetComponent
     * @return {?}
     */
    PanelComponent.prototype.onWidgetMove = /**
     * @param {?} widgetComponent
     * @return {?}
     */
    function (widgetComponent) {
        this.movingWidgetComponent = widgetComponent;
        this.preventHighlightingWhileMoving();
        this.insertDropTarget(widgetComponent, null);
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.onWidgetDropped = /**
     * @return {?}
     */
    function () {
        this.items.splice(this.items.map(function (x) { return x.widget; }).indexOf(this.movingWidgetComponent.widget), 1);
        for (var /** @type {?} */ i = 0; i < this.items.length; i++) {
            if (this.items[i].dropTarget) {
                this.items.splice(i, 1, { widget: this.movingWidgetComponent.widget });
                break;
            }
        }
        this.allowHighlighting();
        this.movingWidgetComponent = null;
        this.addHorizontalSpacers();
    };
    /**
     * @param {?} widgetComponent
     * @return {?}
     */
    PanelComponent.prototype.onWidgetHovered = /**
     * @param {?} widgetComponent
     * @return {?}
     */
    function (widgetComponent) {
        var _this = this;
        if (!this.movingWidgetComponent) {
            return;
        }
        console.log('test 0', new Date());
        this.moveHoverSubscription = Observable.of({})
            .delay(30)
            .subscribe(function () {
            console.log('test', new Date());
            if (!_this.movingWidgetComponent) {
                return;
            }
            _this.insertDropTarget(widgetComponent, _this.movingWidgetComponent);
            _this.addHorizontalSpacers();
        });
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.onWidgetUnhovered = /**
     * @return {?}
     */
    function () {
        if (this.moveHoverSubscription) {
            this.moveHoverSubscription.unsubscribe();
            this.moveHoverSubscription = null;
        }
    };
    /**
     * @param {?} spacerComponent
     * @return {?}
     */
    PanelComponent.prototype.onSpacerHovered = /**
     * @param {?} spacerComponent
     * @return {?}
     */
    function (spacerComponent) {
        var _this = this;
        if (!this.movingWidgetComponent) {
            return;
        }
        this.moveHoverSubscription = Observable.of({})
            .delay(300)
            .subscribe(function () {
            if (!_this.movingWidgetComponent) {
                return;
            }
            _this.insertDropTarget(spacerComponent, _this.movingWidgetComponent);
            _this.addHorizontalSpacers();
        });
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.onSpacerUnhovered = /**
     * @return {?}
     */
    function () {
        if (this.moveHoverSubscription) {
            this.moveHoverSubscription.unsubscribe();
            this.moveHoverSubscription = null;
        }
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.makeGrid = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ grid = [];
        grid.push([]);
        var /** @type {?} */ currentRowWidth = 0;
        var /** @type {?} */ widgets = this.items
            .filter(function (x) { return x.widget; })
            .map(function (x) { return x.widget; });
        for (var /** @type {?} */ i = 0; i < widgets.length; i++) {
            var /** @type {?} */ widget = widgets[i];
            var /** @type {?} */ width = this.bootstrapService
                .getWidth(widget.getCurrentWidth.bind(widget));
            grid[grid.length - 1].push(widget);
            currentRowWidth += width;
            var /** @type {?} */ isLastWidget = i === widgets.length - 1;
            if (isLastWidget) {
                break;
            }
            if (currentRowWidth === this.bootstrapService.maxColumns) {
                grid.push([]);
                currentRowWidth = 0;
            }
            else {
                // Preview the next widget and see if a new row is needed due to lack of space.
                var /** @type {?} */ nextWidget = widgets[i + 1];
                var /** @type {?} */ nextWidgetWidth = this.bootstrapService
                    .getWidth(nextWidget.getCurrentWidth.bind(nextWidget));
                var /** @type {?} */ spaceLeftOnCurrentRow = this.bootstrapService.maxColumns - currentRowWidth;
                if (nextWidgetWidth > spaceLeftOnCurrentRow) {
                    grid.push([]);
                    currentRowWidth = 0;
                }
            }
        }
        return grid;
    };
    /**
     * @param {?} widget
     * @return {?}
     */
    PanelComponent.prototype.findRowContainingWidget = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        // I'm making a multi-dimensional array of the entire grid before trying to
        // find which row the widget is in. This is less efficient than building the
        // grid and simultaneously checking if the row has the widget, but it makes
        // the logic much more reasonable.
        var /** @type {?} */ grid = this.makeGrid();
        for (var /** @type {?} */ i = 0; i < grid.length; i++) {
            var /** @type {?} */ widgetIndex = grid[i].indexOf(widget);
            if (widgetIndex >= 0) {
                return grid[i];
            }
        }
    };
    /**
     * @param {?} widget
     * @return {?}
     */
    PanelComponent.prototype.calculateBoundaries = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        var _this = this;
        var /** @type {?} */ row = this.findRowContainingWidget(widget);
        console.log("row", row);
        var /** @type {?} */ currentPosition = row
            .slice(0, row.indexOf(widget) + 1)
            .map(function (x) { return _this.bootstrapService.getWidth(x.getCurrentWidth.bind(x)); })
            .reduce(function (x, y) { return x + y; });
        var /** @type {?} */ minimumWidth = this.bootstrapService.getWidth(widget.getMinimumWidth.bind(widget));
        var /** @type {?} */ spaceToMinimize = this.bootstrapService.getWidth(widget.getCurrentWidth.bind(widget)) - minimumWidth;
        // Don't go left far enough to exceed the minimum of the widget.
        var /** @type {?} */ left = currentPosition - spaceToMinimize;
        // Don't go right far enough to exceed the width of the row.
        var /** @type {?} */ right = this.bootstrapService.maxColumns;
        // This is used to determine at which column to start drawing guidelines.
        var /** @type {?} */ offset = minimumWidth - left;
        return { left: left, right: right, offset: offset };
    };
    /**
     * @param {?} widgetComponent
     * @return {?}
     */
    PanelComponent.prototype.drawResizeGuidelines = /**
     * @param {?} widgetComponent
     * @return {?}
     */
    function (widgetComponent) {
        var /** @type {?} */ heightInformation = widgetComponent.getHeightInformation();
        var /** @type {?} */ boundaries = this.calculateBoundaries(widgetComponent.widget);
        for (var /** @type {?} */ i = boundaries.left; i <= boundaries.right; i++) {
            // unshift() which inserts at the beginning of the array instead of push()
            // because we want to display the longest guideline first so that the shorter
            // one is on top of the longer one. This will help when we hover over each one.
            // If the longer one was on top it would be the only guideline raising events.
            this.resizeGuidelines.unshift({
                widthOfGuideline: i,
                targetWidthOfWidget: i + boundaries.offset,
                top: heightInformation.top,
                height: heightInformation.height,
                widget: widgetComponent.widget
            });
        }
    };
    /**
     * @param {?} widget
     * @return {?}
     */
    PanelComponent.prototype.onWidgetResized = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        var /** @type {?} */ indexOfWidget = this.items
            .map(function (x) { return x.widget; })
            .indexOf(widget);
        this.items.splice(indexOfWidget, 1, { widget: widget });
        this.addHorizontalSpacers();
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.endWidgetResize = /**
     * @return {?}
     */
    function () {
        this.resizeGuidelines = [];
        this.allowHighlighting();
        if (this.mouseUpSubscription) {
            this.mouseUpSubscription.unsubscribe();
        }
        if (this.touchEndSubscription) {
            this.touchEndSubscription.unsubscribe();
        }
    };
    /**
     * @param {?} widgetComponent
     * @return {?}
     */
    PanelComponent.prototype.onWidgetResizeStarted = /**
     * @param {?} widgetComponent
     * @return {?}
     */
    function (widgetComponent) {
        var _this = this;
        this.drawResizeGuidelines(widgetComponent);
        this.preventHighlightingWhileMoving();
        this.mouseUpSubscription =
            Observable.fromEvent(this.document, 'mouseup')
                .subscribe(function () {
                _this.endWidgetResize();
                if (_this.mouseUpSubscription) {
                    _this.mouseUpSubscription.unsubscribe();
                }
            });
        this.touchEndSubscription =
            Observable.fromEvent(this.document, 'touchend')
                .subscribe(function () {
                _this.endWidgetResize();
                if (_this.touchEndSubscription) {
                    _this.touchEndSubscription.unsubscribe();
                }
            });
    };
    /**
     * @param {?} widget
     * @return {?}
     */
    PanelComponent.prototype.onRenderWidget = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        this.items.unshift({ widget: widget });
        this.addHorizontalSpacers();
    };
    /**
     * @param {?} widget
     * @return {?}
     */
    PanelComponent.prototype.onDerenderWidget = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        var _this = this;
        this.items
            .filter(function (x) { return x.widget && x.widget.id === widget.id; })
            .forEach(function (x) {
            _this.items.splice(_this.items.indexOf(x), 1);
        });
        this.addHorizontalSpacers();
    };
    /**
     * @param {?} event
     * @return {?}
     */
    PanelComponent.prototype.onEditLayout = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.layoutEditor.edit(event.pageX, event.pageY);
        this.toggleOverlay();
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.onHideLayoutEditor = /**
     * @return {?}
     */
    function () {
        this.layoutEditor.hide();
        this.toggleOverlay();
    };
    /**
     * @param {?} widget
     * @return {?}
     */
    PanelComponent.prototype.onWidgetCloseClick = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        var _this = this;
        this.items
            .filter(function (x) { return x.widget && x.widget === widget; })
            .forEach(function (x) {
            _this.items.splice(_this.items.indexOf(x), 1);
        });
        this.addHorizontalSpacers();
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.onWidgetToggleFullScreenClick = /**
     * @return {?}
     */
    function () {
        this.toggleOverlay();
    };
    /**
     * @return {?}
     */
    PanelComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.moveHoverSubscription) {
            this.moveHoverSubscription.unsubscribe();
        }
        if (this.mouseUpSubscription) {
            this.mouseUpSubscription.unsubscribe();
        }
        if (this.touchEndSubscription) {
            this.touchEndSubscription.unsubscribe();
        }
    };
    PanelComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-widgets-panel',
                    template: "<app-widgets-panel-controls (editLibrary)='onEditLibrary($event)' (editLayout)='onEditLayout($event)'></app-widgets-panel-controls>\n<app-widgets-library *ngIf='library.isDisplayed' [library]='library' (done)='onHideLibrary()' (renderWidget)='onRenderWidget($event)' (derenderWidget)='onDerenderWidget($event)'></app-widgets-library>\n<app-widgets-layout-editor *ngIf='layoutEditor.isDisplayed' [layoutEditor]='layoutEditor' (done)='onHideLayoutEditor()'></app-widgets-layout-editor>\n<ng-container *ngFor='let item of items'>\n  <app-widget *ngIf='item.widget; else drop' [widget]='item.widget' (widgetMoving)='onWidgetMove($event)' (widgetDropped)='onWidgetDropped()' (widgetHovered)='onWidgetHovered($event)' (widgetUnhovered)='onWidgetUnhovered()' (resizeStarted)='onWidgetResizeStarted($event)'\n    (close)='onWidgetCloseClick($event)' (fullscreen)='onWidgetToggleFullScreenClick()'></app-widget>\n  <ng-template #drop>\n    <app-widget-drop-target *ngIf='item.dropTarget; else spacer' [dropTarget]='item.dropTarget' [height]='item.height'></app-widget-drop-target>\n    <ng-template #spacer>\n      <app-widgets-panel-spacer [spacer]='item.spacer' (spacerHovered)='onSpacerHovered($event)' (spacerUnhovered)='onSpacerUnhovered()'></app-widgets-panel-spacer>\n    </ng-template>\n  </ng-template>\n</ng-container>\n<app-widget-resize-guideline *ngFor='let guideline of resizeGuidelines' [guideline]='guideline' (resized)='onWidgetResized($event)'></app-widget-resize-guideline>",
                    styles: [".moving-widget{position:absolute;pointer-events:none;z-index:100}"]
                },] },
    ];
    /** @nocollapse */
    PanelComponent.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },
        { type: undefined, decorators: [{ type: Inject, args: ['widgetsService',] },] },
        { type: BootstrapService, },
    ]; };
    PanelComponent.propDecorators = {
        "onResize": [{ type: HostListener, args: ['window:resize',] },],
    };
    return PanelComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var PanelControlsComponent = /** @class */ (function () {
    function PanelControlsComponent(elementRef) {
        this.elementRef = elementRef;
        this.editLibrary = new EventEmitter();
        this.editLayout = new EventEmitter();
    }
    /**
     * @return {?}
     */
    PanelControlsComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    PanelControlsComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.elementRef.nativeElement.classList.add('col-12');
    };
    /**
     * @param {?} event
     * @return {?}
     */
    PanelControlsComponent.prototype.onLibraryClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.editLibrary.emit(event);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    PanelControlsComponent.prototype.onLayoutClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.editLayout.emit(event);
    };
    PanelControlsComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-widgets-panel-controls',
                    template: "<span class='no-highlighting'>\n  <span class='material-icons' (click)='onLibraryClick($event)'>add</span>\n<span class='material-icons' (click)='onLayoutClick($event)'>dashboard</span>\n</span>",
                    styles: [":host{margin-top:10px;margin-right:20px;text-align:right}"]
                },] },
    ];
    /** @nocollapse */
    PanelControlsComponent.ctorParameters = function () { return [
        { type: ElementRef, },
    ]; };
    PanelControlsComponent.propDecorators = {
        "editLibrary": [{ type: Output },],
        "editLayout": [{ type: Output },],
    };
    return PanelControlsComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Widget = /** @class */ (function () {
    function Widget(id, title, currentWidth, minimumWidth, initialHeight, render, isHidden) {
        this.currentWidth = currentWidth;
        this.minimumWidth = minimumWidth;
        this.isExpanded = true;
        this.isFullScreen = false;
        this.id = id;
        this.title = title;
        this.initialHeight = initialHeight;
        this.render = (/** @type {?} */ (render)).bind(this);
        this.isHidden = isHidden;
        this.currentWidth = currentWidth;
        // This uses Object.assign to create a new object from the one passed in.
        // This is to prevent the instantiator from passing in one object to both
        // currentWidth and minimumWidth and then having that object ref assigned
        // to both properties. If that were to happen, then updating the
        // currentWidth would also update the minimumWidth. The minimumWidth
        // should never be changed once set.
        this.minimumWidth = Object.assign({}, minimumWidth);
        Object.freeze(this.minimumWidth);
    }
    /**
     * @param {?} __0
     * @return {?}
     */
    Widget.createAvailableWidget = /**
     * @param {?} __0
     * @return {?}
     */
    function (_a) {
        var id = _a.id, title = _a.title, width = _a.width, initialHeight = _a.initialHeight, render = _a.render;
        return new Widget(id, title, width, width, initialHeight, render, false);
    };
    /**
     * @param {?} __0
     * @return {?}
     */
    Widget.createRenderedWidget = /**
     * @param {?} __0
     * @return {?}
     */
    function (_a) {
        var id = _a.id, title = _a.title, currentWidth = _a.currentWidth, minimumWidth = _a.minimumWidth, initialHeight = _a.initialHeight, render = _a.render;
        return new Widget(id, title, currentWidth, minimumWidth, initialHeight, render, false);
    };
    /**
     * @param {?} breakpoint
     * @return {?}
     */
    Widget.prototype.getCurrentWidth = /**
     * @param {?} breakpoint
     * @return {?}
     */
    function (breakpoint) {
        return this.currentWidth[breakpoint];
    };
    /**
     * @return {?}
     */
    Widget.prototype.getCurrentWidths = /**
     * @return {?}
     */
    function () {
        return this.currentWidth;
    };
    /**
     * @param {?} breakpoint
     * @return {?}
     */
    Widget.prototype.getMinimumWidth = /**
     * @param {?} breakpoint
     * @return {?}
     */
    function (breakpoint) {
        return this.minimumWidth[breakpoint];
    };
    /**
     * @param {?} breakpoint
     * @param {?} width
     * @return {?}
     */
    Widget.prototype.makeFullWidth = /**
     * @param {?} breakpoint
     * @param {?} width
     * @return {?}
     */
    function (breakpoint, width) {
        if (this.currentWidth[breakpoint]) {
            this.currentWidth[breakpoint] = width;
        }
    };
    /**
     * @param {?} breakpoint
     * @param {?} width
     * @return {?}
     */
    Widget.prototype.resize = /**
     * @param {?} breakpoint
     * @param {?} width
     * @return {?}
     */
    function (breakpoint, width) {
        this.currentWidth[breakpoint] = width;
    };
    /**
     * @return {?}
     */
    Widget.prototype.expand = /**
     * @return {?}
     */
    function () {
        this.isExpanded = true;
    };
    /**
     * @return {?}
     */
    Widget.prototype.collapse = /**
     * @return {?}
     */
    function () {
        this.isExpanded = false;
    };
    /**
     * @return {?}
     */
    Widget.prototype.toggleFullScreen = /**
     * @return {?}
     */
    function () {
        this.isFullScreen = !this.isFullScreen;
    };
    /**
     * @return {?}
     */
    Widget.prototype.clone = /**
     * @return {?}
     */
    function () {
        return new Widget(this.id, this.title, this.currentWidth, this.minimumWidth, this.initialHeight, this.render, this.isHidden);
    };
    return Widget;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var WidgetComponent = /** @class */ (function () {
    function WidgetComponent(document, elementRef, zone, bootstrapService) {
        this.document = document;
        this.elementRef = elementRef;
        this.zone = zone;
        this.bootstrapService = bootstrapService;
        this.widgetMoving = new EventEmitter();
        this.widgetDropped = new EventEmitter();
        this.widgetHovered = new EventEmitter();
        this.widgetUnhovered = new EventEmitter();
        this.resizeStarted = new EventEmitter();
        this.close = new EventEmitter();
        this.fullscreen = new EventEmitter();
    }
    /**
     * @return {?}
     */
    WidgetComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () { };
    /**
     * @param {?} e
     * @return {?}
     */
    WidgetComponent.prototype.getUserPosition = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        return e.changedTouches ?
            {
                x: e.changedTouches[0].pageX,
                y: e.changedTouches[0].pageY
            } : {
            x: e.pageX,
            y: e.pageY
        };
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.notModifiable = /**
     * @return {?}
     */
    function () {
        if (this.widget.isFullScreen) {
            return true;
        }
    };
    /**
     * @param {?} e
     * @return {?}
     */
    WidgetComponent.prototype.notGrabbable = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        if (this.notModifiable()) {
            return true;
        }
        if (!e) {
            return true;
        }
        var /** @type {?} */ target = e.target || e.srcElement;
        if (!target) {
            return true;
        }
        if (target.classList.contains('not-grabbable')) {
            return true;
        }
        if (target.closest('.not-grabbable')) {
            return true;
        }
        return false;
    };
    /**
     * @param {?} e
     * @return {?}
     */
    WidgetComponent.prototype.startMove = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.widgetMoving.emit(this);
        var /** @type {?} */ thisElement = this.elementRef.nativeElement;
        // We'll reset the style when we call endMove.
        this.initialPosition = {
            y: thisElement.style.top,
            x: thisElement.style.left
        };
        // Make the dragging widget follow the user's movement.
        var /** @type {?} */ userPosition = this.getUserPosition(e);
        this.moveStartPosition = {
            x: e.touches ?
                e.touches[0].pageX - thisElement.offsetLeft :
                e.pageX - thisElement.offsetLeft,
            y: e.touches ?
                e.touches[0].pageY - thisElement.offsetTop :
                e.pageY - thisElement.offsetTop
        };
        thisElement.style.left = (userPosition.x - this.moveStartPosition.x) + 'px';
        thisElement.style.top = (userPosition.y - this.moveStartPosition.y) + 'px';
        thisElement.classList.add('moving-widget');
    };
    /**
     * @param {?} e
     * @return {?}
     */
    WidgetComponent.prototype.move = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        // Make the widget follow the user's movement.
        var /** @type {?} */ userPosition = this.getUserPosition(e);
        this.elementRef.nativeElement.style.left = (userPosition.x - this.moveStartPosition.x) + 'px';
        this.elementRef.nativeElement.style.top = (userPosition.y - this.moveStartPosition.y) + 'px';
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.endMove = /**
     * @return {?}
     */
    function () {
        this.widgetDropped.emit();
        this.elementRef.nativeElement.classList.remove('moving-widget');
        this.elementRef.nativeElement.style.top = this.initialPosition.y;
        this.elementRef.nativeElement.style.left = this.initialPosition.x;
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.getHeightInformation = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ rect = this.elementRef.nativeElement
            .getBoundingClientRect();
        return {
            height: rect.height,
            top: rect.top
        };
    };
    /**
     * @param {?} e
     * @return {?}
     */
    WidgetComponent.prototype.onWidgetMouseDown = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        var _this = this;
        if (this.notGrabbable(e)) {
            return;
        }
        this.startMove(e);
        // Make sure these observers are removed in endMove.
        this.mouseMoveSubscription =
            Observable.fromEvent(this.document, 'mousemove')
                .subscribe(function (event) {
                _this.zone.runOutsideAngular(function () {
                    _this.move(event);
                });
            });
        this.mouseUpSubscription =
            Observable.fromEvent(this.document, 'mouseup')
                .subscribe(function () {
                _this.endMove();
                if (_this.mouseMoveSubscription) {
                    _this.mouseMoveSubscription.unsubscribe();
                }
                if (_this.mouseUpSubscription) {
                    _this.mouseUpSubscription.unsubscribe();
                }
            });
    };
    /**
     * @param {?} e
     * @return {?}
     */
    WidgetComponent.prototype.onWidgetTouchStart = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        var _this = this;
        if (this.notGrabbable(e)) {
            return;
        }
        e.preventDefault();
        this.startMove(e);
        // Make sure these observers are removed in endMove.
        this.touchMoveSubscription =
            Observable.fromEvent(this.document, 'touchmove')
                .subscribe(function (event) {
                _this.zone.runOutsideAngular(function () {
                    _this.move(event);
                });
            });
        this.touchEndSubscription =
            Observable.fromEvent(this.document, 'touchend')
                .subscribe(function () {
                _this.endMove();
                if (_this.touchMoveSubscription) {
                    _this.touchMoveSubscription.unsubscribe();
                }
                if (_this.touchEndSubscription) {
                    _this.touchEndSubscription.unsubscribe();
                }
            });
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.onWidgetMouseEnter = /**
     * @return {?}
     */
    function () {
        this.widgetHovered.emit(this);
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.onWidgetTouchEnter = /**
     * @return {?}
     */
    function () {
        this.widgetHovered.emit(this);
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.onWidgetMouseLeave = /**
     * @return {?}
     */
    function () {
        this.widgetUnhovered.emit();
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.onWidgetTouchLeave = /**
     * @return {?}
     */
    function () {
        this.widgetUnhovered.emit();
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.onResizerMouseDown = /**
     * @return {?}
     */
    function () {
        if (this.notModifiable()) {
            return true;
        }
        this.resizeStarted.emit(this);
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.onResizerTouchStart = /**
     * @return {?}
     */
    function () {
        if (this.notModifiable()) {
            return true;
        }
        this.resizeStarted.emit(this);
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.onCloseClick = /**
     * @return {?}
     */
    function () {
        this.close.emit(this.widget);
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.onToggleFullScreenClick = /**
     * @return {?}
     */
    function () {
        this.widget.toggleFullScreen();
        var /** @type {?} */ thisElement = this.elementRef.nativeElement;
        if (this.widget.isFullScreen) {
            thisElement.classList.add('fullscreen');
            // I would prefer to use document.body.scrollTop, but it is broken on
            // chome/webkit and always returns 0.
            // https://bugs.chromium.org/p/chromium/issues/detail?id=157855
            thisElement.style.top = (15 + window.scrollY) + 'px';
            thisElement.style.bottom = (15 - window.scrollY) + 'px';
            thisElement.style.left = (0 + window.scrollX) + 'px';
            thisElement.style.right = (0 - window.scrollX) + 'px';
        }
        else {
            thisElement.classList.remove('fullscreen');
            thisElement.style.top = null;
            thisElement.style.bottom = null;
            thisElement.style.left = null;
            thisElement.style.right = null;
        }
        this.fullscreen.emit();
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.elementRef.nativeElement.classList.add('widget');
        var /** @type {?} */ classes = this.bootstrapService.getClasses(this.widget);
        (_a = this.elementRef.nativeElement.classList).add.apply(_a, __spread(classes));
        if (this.widget.isHidden) {
            this.elementRef.nativeElement.style.visibility = 'hidden';
        }
        var _a;
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // If the widget is also Angular 2+, it's bootstrapping will cause Zone errors
        // in the console because Zone is loaded as a singleton. Fun. Run outside Angular.
        this.zone.runOutsideAngular(function () {
            var /** @type {?} */ container = _this.elementRef.nativeElement.querySelector('.container');
            _this.widget.render(container)
                .then(function () {
                // Remove the spinner.
                container.children[0].remove();
            })
                .catch(function (error) { return console.log(error); });
        });
    };
    /**
     * @return {?}
     */
    WidgetComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.mouseMoveSubscription) {
            this.mouseMoveSubscription.unsubscribe();
        }
        if (this.mouseUpSubscription) {
            this.mouseUpSubscription.unsubscribe();
        }
        if (this.touchMoveSubscription) {
            this.touchMoveSubscription.unsubscribe();
        }
        if (this.touchEndSubscription) {
            this.touchEndSubscription.unsubscribe();
        }
    };
    WidgetComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-widget',
                    template: "<div class='card card-row' (mouseenter)='onWidgetMouseEnter()' (touchenter)='onWidgetTouchEnter()' (mouseleave)='onWidgetMouseLeave()' (touchleave)='onWidgetTouchLeave()'>\n  <app-widget-controls [widget]='widget' (mousedown)='onWidgetMouseDown($event)' (touchstart)='onWidgetTouchStart($event)' (close)='onCloseClick()' (fullscreen)='onToggleFullScreenClick()'></app-widget-controls>\n  <div [ngClass]='widget.isExpanded || widget.isFullScreen ? \"maximized\" : \"minimized\"'>\n    <div class='container'>\n      <div [style.height]='widget.initialHeight'>\n        <div class='loader'>Loading...</div>\n      </div>\n    </div>\n    <div class='resizer d-none d-sm-inline' (mousedown)='onResizerMouseDown()' (touchstart)='onResizerTouchStart()'></div>\n  </div>\n</div>",
                    styles: [":host{display:block}:host>div{height:100%;margin:0}.resizer{position:absolute;width:5px;height:98%;top:2px;right:2px;cursor:ew-resize}.maximized{opacity:1;transition-property:height,opacity;transition-duration:.2s,.5s}.minimized{opacity:0;transition-property:height,opacity;transition-duration:.5s,0;height:0!important}:host.fullscreen .resizer{cursor:default}:host.fullscreen{z-index:100;max-width:100%;position:absolute}.loader{color:gray;margin:auto;font-size:45px;top:calc(50% - 45px);text-indent:-9999em;overflow:hidden;width:1em;height:1em;border-radius:50%;position:relative;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:1.7s infinite load6,1.7s infinite round;animation:1.7s infinite load6,1.7s infinite round}@-webkit-keyframes load6{0%,100%,5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}}@keyframes load6{0%,100%,5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}}@-webkit-keyframes round{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes round{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]
                },] },
    ];
    /** @nocollapse */
    WidgetComponent.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },
        { type: ElementRef, },
        { type: NgZone, },
        { type: BootstrapService, },
    ]; };
    WidgetComponent.propDecorators = {
        "widget": [{ type: Input },],
        "widgetMoving": [{ type: Output },],
        "widgetDropped": [{ type: Output },],
        "widgetHovered": [{ type: Output },],
        "widgetUnhovered": [{ type: Output },],
        "resizeStarted": [{ type: Output },],
        "close": [{ type: Output },],
        "fullscreen": [{ type: Output },],
    };
    return WidgetComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var WidgetControlsComponent = /** @class */ (function () {
    function WidgetControlsComponent(elementRef) {
        this.elementRef = elementRef;
        this.close = new EventEmitter();
        this.fullscreen = new EventEmitter();
    }
    /**
     * @return {?}
     */
    WidgetControlsComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    WidgetControlsComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.elementRef.nativeElement.classList.add('col-12');
    };
    /**
     * @return {?}
     */
    WidgetControlsComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // We'll set the width of the title based on the width left by the buttons.
        // This will make the overflow on the title work properly. But we won't
        // do this until the stack is empty. Without the setTime, the first page load
        // after a Hard Reload does not calculate the offsetWidths correctly.
        setTimeout(function () {
            var /** @type {?} */ containerElement = _this.elementRef.nativeElement.children[0];
            var /** @type {?} */ controlsWidth = containerElement.offsetWidth;
            var /** @type {?} */ buttonsElement = containerElement.querySelector('.buttons');
            var /** @type {?} */ buttonsWidth = buttonsElement.offsetWidth;
            var /** @type {?} */ padding = 8;
            var /** @type {?} */ titleElement = containerElement.querySelector('.title');
            titleElement.style.width = (100 - padding - (buttonsWidth / controlsWidth * 100)) + '%';
        }, 0);
    };
    /**
     * @return {?}
     */
    WidgetControlsComponent.prototype.onCollapseClick = /**
     * @return {?}
     */
    function () {
        this.widget.collapse();
    };
    /**
     * @return {?}
     */
    WidgetControlsComponent.prototype.onExpandClick = /**
     * @return {?}
     */
    function () {
        this.widget.expand();
    };
    /**
     * @return {?}
     */
    WidgetControlsComponent.prototype.onCloseClick = /**
     * @return {?}
     */
    function () {
        this.close.emit();
    };
    /**
     * @return {?}
     */
    WidgetControlsComponent.prototype.onToggleFullScreenClick = /**
     * @return {?}
     */
    function () {
        this.fullscreen.emit();
    };
    WidgetControlsComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-widget-controls',
                    template: "<div>\n  <div class='title'>{{widget.title}}</div>\n  <div *ngIf='!widget.isFullScreen; else fullscreen' class='buttons no-highlighting not-grabbable'>\n    <span *ngIf='widget.isExpanded; else expand' class='material-icons' (click)='onCollapseClick()'>expand_less</span>\n    <ng-template #expand>\n      <span class='material-icons' (click)='onExpandClick()'>expand_more</span>\n    </ng-template>\n    <span class='material-icons d-none d-sm-inline' (click)='onToggleFullScreenClick()'>fullscreen</span>\n    <span class='material-icons' (click)='onCloseClick()'>close</span>\n  </div>\n  <ng-template #fullscreen>\n    <div class='material-icons buttons no-highlighting not-grabbable' (click)='onToggleFullScreenClick()'>fullscreen_exit</div>\n  </ng-template>\n</div>",
                    styles: [":host{display:block;cursor:-webkit-grab;cursor:grab;overflow:hidden;margin-bottom:15px}:host>div>.title{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host>div>div:first-of-type{float:left}:host>div>div:last-of-type{float:right;cursor:default}.fullscreen :host{cursor:default}"]
                },] },
    ];
    /** @nocollapse */
    WidgetControlsComponent.ctorParameters = function () { return [
        { type: ElementRef, },
    ]; };
    WidgetControlsComponent.propDecorators = {
        "widget": [{ type: Input },],
        "close": [{ type: Output },],
        "fullscreen": [{ type: Output },],
    };
    return WidgetControlsComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var LibraryComponent = /** @class */ (function () {
    function LibraryComponent(elementRef) {
        this.elementRef = elementRef;
        this.done = new EventEmitter();
        this.renderWidget = new EventEmitter();
        this.derenderWidget = new EventEmitter();
    }
    /**
     * @return {?}
     */
    LibraryComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () { };
    /**
     * @return {?}
     */
    LibraryComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.elementRef.nativeElement.classList.add('card', 'card-row', 'popup');
    };
    /**
     * @return {?}
     */
    LibraryComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ width = this.elementRef.nativeElement
            .getBoundingClientRect()
            .width;
        this.elementRef.nativeElement.style.top = (this.library.yPosition - 20) + 'px';
        this.elementRef.nativeElement.style.left = (this.library.xPosition - width + 20) + 'px';
    };
    /**
     * @return {?}
     */
    LibraryComponent.prototype.onDoneClick = /**
     * @return {?}
     */
    function () {
        this.done.emit();
    };
    /**
     * @param {?} libraryWidget
     * @return {?}
     */
    LibraryComponent.prototype.onCheckboxChange = /**
     * @param {?} libraryWidget
     * @return {?}
     */
    function (libraryWidget) {
        if (libraryWidget.isRendered) {
            this.library.derenderWidget(libraryWidget.widget);
            this.derenderWidget.emit(libraryWidget.widget);
        }
        else {
            this.library.renderWidget(libraryWidget.widget);
            this.renderWidget.emit(libraryWidget.widget);
        }
    };
    LibraryComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-widgets-library',
                    template: "<div class='title'>Library</div>\n<ul class='list-group'>\n  <li *ngFor='let libraryWidget of library.widgets' class='list-group-item'>\n    <span>{{libraryWidget.widget.title}}</span>\n    <!-- <span *ngIf='libraryWidget.isRendered; else not' class='material-icons' (click)='onRemoveWidget(libraryWidget.widget)'>remove_circle_outline</span>\n    <ng-template #not>\n      <span class='material-icons' (click)='onAddWidget(libraryWidget.widget)'>add_circle_outline</span>\n    </ng-template> -->\n    <!-- <div class='pretty p-switch p-fill'>\n      <input id='libraryWidget.widget.id' type='checkbox' [checked]='libraryWidget.isRendered' (change)='onCheckboxChange(libraryWidget)' />\n    </div> -->\n    <span class='pretty p-switch p-fill'>\n      <input type='checkbox' [checked]='libraryWidget.isRendered' (change)='onCheckboxChange(libraryWidget)' />\n      <div class='state p-success'>\n        <label></label>\n      </div>\n    </span>\n  </li>\n</ul>\n<div class='button-container'>\n  <button class='btn btn-primary' (click)='onDoneClick()'>Done</button>\n</div>",
                    styles: [":host{position:absolute;z-index:100;background:#fff}ul{list-style:none;padding:0;margin-bottom:20px}ul>li{overflow:hidden;text-overflow:ellipsis}ul>li>span:first-of-type{float:left;margin-right:30px}ul>li>span:last-of-type{float:right;margin-top:5px}label:after{margin-top:-1px}.pretty input{width:200%}"]
                },] },
    ];
    /** @nocollapse */
    LibraryComponent.ctorParameters = function () { return [
        { type: ElementRef, },
    ]; };
    LibraryComponent.propDecorators = {
        "library": [{ type: Input },],
        "done": [{ type: Output },],
        "renderWidget": [{ type: Output },],
        "derenderWidget": [{ type: Output },],
    };
    return LibraryComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var DropTargetComponent = /** @class */ (function () {
    function DropTargetComponent(elementRef, bootstrapService) {
        this.elementRef = elementRef;
        this.bootstrapService = bootstrapService;
    }
    /**
     * @return {?}
     */
    DropTargetComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    DropTargetComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.elementRef.nativeElement.style.height = this.height + 'px';
        var /** @type {?} */ classes = this.bootstrapService.getClasses(this.dropTarget);
        (_a = this.elementRef.nativeElement.classList).add.apply(_a, __spread(classes));
        var _a;
    };
    DropTargetComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-widget-drop-target',
                    template: "<div class='card card-row'></div>",
                    styles: [":host>div{background:#d3d3d3;height:100%;margin:0}"]
                },] },
    ];
    /** @nocollapse */
    DropTargetComponent.ctorParameters = function () { return [
        { type: ElementRef, },
        { type: BootstrapService, },
    ]; };
    DropTargetComponent.propDecorators = {
        "dropTarget": [{ type: Input },],
        "height": [{ type: Input },],
    };
    return DropTargetComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var ResizeGuidelineComponent = /** @class */ (function () {
    function ResizeGuidelineComponent(elementRef, bootstrapService) {
        this.elementRef = elementRef;
        this.bootstrapService = bootstrapService;
        this.resized = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ResizeGuidelineComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () { };
    /**
     * @return {?}
     */
    ResizeGuidelineComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ thisElement = this.elementRef.nativeElement;
        thisElement.classList.add(this.bootstrapService.columnPrefix + this.guideline.widthOfGuideline);
        thisElement.style.top = (this.guideline.top + window.scrollY) + 'px';
        thisElement.style.height = this.guideline.height + 'px';
    };
    /**
     * @return {?}
     */
    ResizeGuidelineComponent.prototype.onHover = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ widget = this.guideline.widget;
        if (this.guideline.targetWidthOfWidget !== this.bootstrapService.getWidth(widget.getCurrentWidth.bind(widget))) {
            this.bootstrapService.resize(this.guideline.widget, this.guideline.targetWidthOfWidget);
            this.resized.emit(this.guideline.widget);
        }
    };
    ResizeGuidelineComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-widget-resize-guideline',
                    template: "<div (mouseenter)='onHover()' (touchenter)='onHover()'></div>",
                    styles: [":host{position:absolute}:host>div{border-right:1px dotted green;height:100%}"]
                },] },
    ];
    /** @nocollapse */
    ResizeGuidelineComponent.ctorParameters = function () { return [
        { type: ElementRef, },
        { type: BootstrapService, },
    ]; };
    ResizeGuidelineComponent.propDecorators = {
        "guideline": [{ type: Input },],
        "resized": [{ type: Output },],
    };
    return ResizeGuidelineComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var LayoutEditorComponent = /** @class */ (function () {
    function LayoutEditorComponent(elementRef) {
        this.elementRef = elementRef;
        this.done = new EventEmitter();
    }
    /**
     * @return {?}
     */
    LayoutEditorComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () { };
    /**
     * @return {?}
     */
    LayoutEditorComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.elementRef.nativeElement.classList.add('card', 'card-row', 'col-8', 'col-sm-6', 'popup');
    };
    /**
     * @return {?}
     */
    LayoutEditorComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ width = this.elementRef.nativeElement
            .getBoundingClientRect()
            .width;
        this.elementRef.nativeElement.style.top = (this.layoutEditor.yPosition - 20) + 'px';
        this.elementRef.nativeElement.style.left = (this.layoutEditor.xPosition - width + 20) + 'px';
    };
    /**
     * @return {?}
     */
    LayoutEditorComponent.prototype.onDoneClick = /**
     * @return {?}
     */
    function () {
        this.done.emit();
    };
    LayoutEditorComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-widgets-layout-editor',
                    template: "<div class='title'>Layout Editor</div>\n<p>\n  <b>Coming Soon!</b>\n</p>\n<p>\n  This will allow some users to edit pages and make custom layouts targeted for specific roles in your organization.\n</p>\n<p>\n  For now, changes made will not be saved.\n</p>\n<div class='button-container'>\n  <button class='btn btn-primary' (click)='onDoneClick()'>Done</button>\n</div>",
                    styles: [":host{position:absolute;z-index:100;background:#fff}"]
                },] },
    ];
    /** @nocollapse */
    LayoutEditorComponent.ctorParameters = function () { return [
        { type: ElementRef, },
    ]; };
    LayoutEditorComponent.propDecorators = {
        "layoutEditor": [{ type: Input },],
        "done": [{ type: Output },],
    };
    return LayoutEditorComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var DashboardModule = /** @class */ (function () {
    function DashboardModule() {
    }
    /**
     * @param {?} WidgetsService
     * @return {?}
     */
    DashboardModule.forRoot = /**
     * @param {?} WidgetsService
     * @return {?}
     */
    function (WidgetsService) {
        return {
            ngModule: DashboardModule,
            providers: [
                { provide: 'widgetsService', useClass: WidgetsService }
            ]
        };
    };
    DashboardModule.decorators = [
        { type: NgModule, args: [{
                    declarations: [
                        DashboardComponent,
                        PanelComponent,
                        SpacerComponent,
                        PanelControlsComponent,
                        WidgetComponent,
                        WidgetControlsComponent,
                        LibraryComponent,
                        DropTargetComponent,
                        ResizeGuidelineComponent,
                        LayoutEditorComponent
                    ],
                    imports: [BrowserModule],
                    exports: [
                        DashboardComponent,
                        PanelComponent,
                        SpacerComponent,
                        PanelControlsComponent,
                        WidgetComponent,
                        WidgetControlsComponent,
                        LibraryComponent,
                        DropTargetComponent,
                        ResizeGuidelineComponent,
                        LayoutEditorComponent
                    ],
                    providers: [BootstrapService],
                    bootstrap: [DashboardComponent]
                },] },
    ];
    return DashboardModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { DashboardModule, Widget, DashboardComponent as a, BootstrapService as c, DropTargetComponent as i, LayoutEditorComponent as k, LibraryComponent as h, PanelControlsComponent as e, PanelComponent as b, ResizeGuidelineComponent as j, SpacerComponent as d, WidgetControlsComponent as g, WidgetComponent as f };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2aWhlYWx0aC13aWRnZXQtZGFzaGJvYXJkLW5nNS5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vQG5hdmloZWFsdGgvd2lkZ2V0LWRhc2hib2FyZC1uZzUvc3JjL2Rhc2hib2FyZC93aWRnZXRzL2Jvb3RzdHJhcC5zZXJ2aWNlLnRzIiwibmc6Ly9AbmF2aWhlYWx0aC93aWRnZXQtZGFzaGJvYXJkLW5nNS9zcmMvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQudHMiLCJuZzovL0BuYXZpaGVhbHRoL3dpZGdldC1kYXNoYm9hcmQtbmc1L3NyYy9kYXNoYm9hcmQvd2lkZ2V0cy9zcGFjZXIvc3BhY2VyLmNvbXBvbmVudC50cyIsIm5nOi8vQG5hdmloZWFsdGgvd2lkZ2V0LWRhc2hib2FyZC1uZzUvc3JjL2Rhc2hib2FyZC93aWRnZXRzL2xpYnJhcnkubW9kZWwudHMiLCJuZzovL0BuYXZpaGVhbHRoL3dpZGdldC1kYXNoYm9hcmQtbmc1L3NyYy9kYXNoYm9hcmQvd2lkZ2V0cy9sYXlvdXQtZWRpdG9yLm1vZGVsLnRzIiwibmc6Ly9AbmF2aWhlYWx0aC93aWRnZXQtZGFzaGJvYXJkLW5nNS9zcmMvZGFzaGJvYXJkL3dpZGdldHMvcGFuZWwvcGFuZWwuY29tcG9uZW50LnRzIiwibmc6Ly9AbmF2aWhlYWx0aC93aWRnZXQtZGFzaGJvYXJkLW5nNS9zcmMvZGFzaGJvYXJkL3dpZGdldHMvcGFuZWwtY29udHJvbHMvcGFuZWwtY29udHJvbHMuY29tcG9uZW50LnRzIiwibmc6Ly9AbmF2aWhlYWx0aC93aWRnZXQtZGFzaGJvYXJkLW5nNS9zcmMvZGFzaGJvYXJkL3dpZGdldHMvd2lkZ2V0Lm1vZGVsLnRzIiwibmc6Ly9AbmF2aWhlYWx0aC93aWRnZXQtZGFzaGJvYXJkLW5nNS9zcmMvZGFzaGJvYXJkL3dpZGdldHMvd2lkZ2V0L3dpZGdldC5jb21wb25lbnQudHMiLCJuZzovL0BuYXZpaGVhbHRoL3dpZGdldC1kYXNoYm9hcmQtbmc1L3NyYy9kYXNoYm9hcmQvd2lkZ2V0cy93aWRnZXQtY29udHJvbHMvd2lkZ2V0LWNvbnRyb2xzLmNvbXBvbmVudC50cyIsIm5nOi8vQG5hdmloZWFsdGgvd2lkZ2V0LWRhc2hib2FyZC1uZzUvc3JjL2Rhc2hib2FyZC93aWRnZXRzL2xpYnJhcnkvbGlicmFyeS5jb21wb25lbnQudHMiLCJuZzovL0BuYXZpaGVhbHRoL3dpZGdldC1kYXNoYm9hcmQtbmc1L3NyYy9kYXNoYm9hcmQvd2lkZ2V0cy9kcm9wLXRhcmdldC9kcm9wLXRhcmdldC5jb21wb25lbnQudHMiLCJuZzovL0BuYXZpaGVhbHRoL3dpZGdldC1kYXNoYm9hcmQtbmc1L3NyYy9kYXNoYm9hcmQvd2lkZ2V0cy9yZXNpemUtZ3VpZGVsaW5lL3Jlc2l6ZS1ndWlkZWxpbmUuY29tcG9uZW50LnRzIiwibmc6Ly9AbmF2aWhlYWx0aC93aWRnZXQtZGFzaGJvYXJkLW5nNS9zcmMvZGFzaGJvYXJkL3dpZGdldHMvbGF5b3V0LWVkaXRvci9sYXlvdXQtZWRpdG9yLmNvbXBvbmVudC50cyIsIm5nOi8vQG5hdmloZWFsdGgvd2lkZ2V0LWRhc2hib2FyZC1uZzUvc3JjL2Rhc2hib2FyZC9kYXNoYm9hcmQubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgV2lkZ2V0IH0gZnJvbSAnLi93aWRnZXQubW9kZWwnO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgQm9vdHN0cmFwU2VydmljZSB7XHJcbiAgcmVhZG9ubHkgbWF4Q29sdW1ucyA9IDEyO1xyXG4gIHJlYWRvbmx5IGNvbHVtblByZWZpeCA9ICdjb2wtJztcclxuXHJcbiAgLy8gVGhlc2UgbXVzdCByZW1haW4gaW4gb3JkZXIgZnJvbSBsYXJnZXN0IHRvIHNtYWxsZXN0LlxyXG4gIHByaXZhdGUgcmVhZG9ubHkgYnJlYWtwb2ludHMgPSB7XHJcbiAgICB4bDogJ2QteGwtbm9uZScsXHJcbiAgICBsZzogJ2QtbGctbm9uZScsXHJcbiAgICBtZDogJ2QtbWQtbm9uZScsXHJcbiAgICBzbTogJ2Qtc20tbm9uZScsXHJcbiAgICB4czogJ2Qtbm9uZSdcclxuICB9O1xyXG4gIHByaXZhdGUgY3VycmVudEJyZWFrcG9pbnQ6IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgLy8gQWRkIGFuIGVsZW1lbnQgdG8gdGhlIERPTSBhbmQgc2V0IGl0J3MgY2xhc3MgdG8gcHJldmVudCBpdCBmcm9tIGRpc3BsYXlpbmdcclxuICAvLyBhdCBlYWNoIGJyZWFrcG9pbnQgdW50aWwgaXQgaXMsIGluIGZhY3QsIG5vdCBkaXNwbGF5ZWQuIFRoYXQgaXMgdGhlIHNpemUgb2ZcclxuICAvLyB0aGUgc2NyZWVuLlxyXG4gIHByaXZhdGUgZ2V0Q3VycmVudEJyZWFrcG9pbnQoKTogc3RyaW5nIHtcclxuICAgIGxldCBicmVha3BvaW50ID0gJyc7XHJcblxyXG4gICAgY29uc3QgbWFya2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBtYXJrZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtYXJrZXIpO1xyXG4gICAgY29uc3QgYnJlYWtwb2ludEtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmJyZWFrcG9pbnRzKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJyZWFrcG9pbnRLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGJyZWFrcG9pbnQgPSBicmVha3BvaW50S2V5c1tpXTtcclxuICAgICAgbWFya2VyLmNsYXNzTGlzdC5hZGQodGhpcy5icmVha3BvaW50c1ticmVha3BvaW50XSk7XHJcbiAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobWFya2VyKTtcclxuICAgICAgaWYgKHN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbWFya2VyLnJlbW92ZSgpO1xyXG4gICAgcmV0dXJuIGJyZWFrcG9pbnQ7XHJcbiAgfVxyXG5cclxuICBoYXNCcmVha3BvaW50Q2hhbmdlZCgpIHtcclxuICAgIGNvbnN0IGJyZWFrcG9pbnQ6IHN0cmluZyA9IHRoaXMuZ2V0Q3VycmVudEJyZWFrcG9pbnQoKTtcclxuICAgIGlmIChicmVha3BvaW50ICE9PSB0aGlzLmN1cnJlbnRCcmVha3BvaW50KSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSBicmVha3BvaW50O1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoKGdldFdpZHRoOiAoc3RyaW5nKSA9PiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgbGV0IGJyZWFrcG9pbnQgPSB0aGlzLmdldEN1cnJlbnRCcmVha3BvaW50KCk7XHJcbiAgICBsZXQgd2lkdGggPSBnZXRXaWR0aChicmVha3BvaW50KTtcclxuICAgIGlmICghd2lkdGgpIHtcclxuICAgICAgLy8gTG9vayBmb3IgdGhlIGxhcmdlc3QgYnJlYWtwb2ludCB3aXRoIGEgd2lkdGggdGhhdCBpcyBzbWFsbGVyIHRoYW4gdGhlIGN1cnJlbnQgYnJlYWtwb2ludC5cclxuICAgICAgY29uc3Qgc21hbGxlckJyZWFrcG9pbnRzID0gdGhpcy5nZXRTbWFsbGVyQnJlYWtwb2ludHMoYnJlYWtwb2ludCk7XHJcbiAgICAgIHdoaWxlICghd2lkdGggJiYgc21hbGxlckJyZWFrcG9pbnRzLmxlbmd0aCkge1xyXG4gICAgICAgIGJyZWFrcG9pbnQgPSBzbWFsbGVyQnJlYWtwb2ludHMuc2hpZnQoKTtcclxuICAgICAgICB3aWR0aCA9IGdldFdpZHRoKGJyZWFrcG9pbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gd2lkdGg7XHJcbiAgfVxyXG5cclxuICBtYWtlRnVsbFdpZHRoKG1ha2VGdWxsV2lkdGg6IChzdHJpbmcsIG51bWJlcikgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgY29uc3QgYnJlYWtwb2ludCA9IHRoaXMuZ2V0Q3VycmVudEJyZWFrcG9pbnQoKTtcclxuICAgIC8vIE1ha2UgZWFjaCBicmVha3BvaW50IGF0IHRoZSBjdXJyZW50IHNpemUgYW5kIHNtYWxsZXIgdGhlIGZ1bGwgd2lkdGggb2YgYSByb3cuXHJcbiAgICB0aGlzLmdldFNtYWxsZXJCcmVha3BvaW50cyhicmVha3BvaW50KVxyXG4gICAgICAuY29uY2F0KFticmVha3BvaW50XSlcclxuICAgICAgLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgbWFrZUZ1bGxXaWR0aCh4LCB0aGlzLm1heENvbHVtbnMpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2l6ZSh3aWRnZXQ6IFdpZGdldCwgdGFyZ2V0V2lkdGhPZldpZGdldDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBsZXQgYnJlYWtwb2ludCA9IHRoaXMuZ2V0Q3VycmVudEJyZWFrcG9pbnQoKTtcclxuICAgIGxldCB3aWR0aCA9IHdpZGdldC5nZXRDdXJyZW50V2lkdGgoYnJlYWtwb2ludCk7XHJcbiAgICBpZiAoIXdpZHRoKSB7XHJcbiAgICAgIC8vIExvb2sgZm9yIHRoZSBsYXJnZXN0IGJyZWFrcG9pbnQgd2l0aCBhIHdpZHRoIHRoYXQgaXMgc21hbGxlciB0aGFuIHRoZSBjdXJyZW50IGJyZWFrcG9pbnQuXHJcbiAgICAgIGNvbnN0IHNtYWxsZXJCcmVha3BvaW50cyA9IHRoaXMuZ2V0U21hbGxlckJyZWFrcG9pbnRzKGJyZWFrcG9pbnQpO1xyXG4gICAgICB3aGlsZSAoIXdpZHRoICYmIHNtYWxsZXJCcmVha3BvaW50cy5sZW5ndGgpIHtcclxuICAgICAgICBicmVha3BvaW50ID0gc21hbGxlckJyZWFrcG9pbnRzLnNoaWZ0KCk7XHJcbiAgICAgICAgd2lkdGggPSB3aWRnZXQuZ2V0Q3VycmVudFdpZHRoKGJyZWFrcG9pbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB3aWRnZXQucmVzaXplKGJyZWFrcG9pbnQsIHRhcmdldFdpZHRoT2ZXaWRnZXQpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2xhc3Nlcyh3aWRnZXQ6IFdpZGdldCk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IHdpZHRocyA9IHdpZGdldC5nZXRDdXJyZW50V2lkdGhzKCk7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXMod2lkdGhzKVxyXG4gICAgICAubWFwKHggPT4ge1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gd2lkdGhzW3hdO1xyXG4gICAgICAgIGlmICh4ID09PSAneHMnKSB7XHJcbiAgICAgICAgICByZXR1cm4gJ2NvbC0nICsgd2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnY29sLScgKyB4ICsgJy0nICsgd2lkdGg7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRTbWFsbGVyQnJlYWtwb2ludHMoYnJlYWtwb2ludCk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IGFsbEJyZWFrcG9pbnRzID0gT2JqZWN0LmtleXModGhpcy5icmVha3BvaW50cyk7XHJcbiAgICBjb25zdCBzbWFsbGVyQnJlYWtwb2ludHMgPSBhbGxCcmVha3BvaW50cy5zbGljZShcclxuICAgICAgYWxsQnJlYWtwb2ludHMuaW5kZXhPZihicmVha3BvaW50KSArIDEsXHJcbiAgICAgIGFsbEJyZWFrcG9pbnRzLmxlbmd0aCk7XHJcbiAgICByZXR1cm4gc21hbGxlckJyZWFrcG9pbnRzO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnYXBwLWRhc2hib2FyZCcsXHJcbiAgdGVtcGxhdGU6IGA8YXBwLXdpZGdldHMtcGFuZWwgY2xhc3M9J3Jvdyc+PC9hcHAtd2lkZ2V0cy1wYW5lbD5gLFxyXG4gIHN0eWxlczogW2BgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRGFzaGJvYXJkQ29tcG9uZW50IHsgfVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgRWxlbWVudFJlZiwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBBZnRlckNvbnRlbnRJbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2FwcC13aWRnZXRzLXBhbmVsLXNwYWNlcicsXHJcbiAgdGVtcGxhdGU6IGA8ZGl2IChtb3VzZWVudGVyKT0nb25Nb3VzZUVudGVyKCknICh0b3VjaGVudGVyKT0nb25Ub3VjaEVudGVyKCknIChtb3VzZWxlYXZlKT0nb25Nb3VzZUxlYXZlKCknICh0b3VjaGxlYXZlKT0nb25Ub3VjaExlYXZlKCknPlxyXG48L2Rpdj5gLFxyXG4gIHN0eWxlczogW2A6aG9zdHtoZWlnaHQ6MzBweH06aG9zdD5kaXZ7aGVpZ2h0OjEwMCV9YF1cclxufSlcclxuZXhwb3J0IGNsYXNzIFNwYWNlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJDb250ZW50SW5pdCB7XHJcbiAgQElucHV0KCkgc3BhY2VyOiBvYmplY3Q7XHJcbiAgQE91dHB1dCgpIHNwYWNlckhvdmVyZWQgPSBuZXcgRXZlbnRFbWl0dGVyPFNwYWNlckNvbXBvbmVudD4oKTtcclxuICBAT3V0cHV0KCkgc3BhY2VyVW5ob3ZlcmVkID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYpIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpIHsgfVxyXG5cclxuICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb2wtMTInKTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VFbnRlcigpIHtcclxuICAgIHRoaXMuc3BhY2VySG92ZXJlZC5lbWl0KHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb25Ub3VjaEVudGVyKCkge1xyXG4gICAgdGhpcy5zcGFjZXJIb3ZlcmVkLmVtaXQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlTGVhdmUoKSB7XHJcbiAgICB0aGlzLnNwYWNlclVuaG92ZXJlZC5lbWl0KCk7XHJcbiAgfVxyXG5cclxuICBvblRvdWNoTGVhdmUoKSB7XHJcbiAgICB0aGlzLnNwYWNlclVuaG92ZXJlZC5lbWl0KCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFdpZGdldCB9IGZyb20gJy4vd2lkZ2V0Lm1vZGVsJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUxpYnJhcnlXaWRnZXQge1xyXG4gIGlzUmVuZGVyZWQ6IGJvb2xlYW47XHJcbiAgd2lkZ2V0OiBXaWRnZXQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBMaWJyYXJ5IHtcclxuICBpc0Rpc3BsYXllZCA9IGZhbHNlO1xyXG4gIHhQb3NpdGlvbjogbnVtYmVyO1xyXG4gIHlQb3NpdGlvbjogbnVtYmVyO1xyXG4gIHdpZGdldHM6IElMaWJyYXJ5V2lkZ2V0W107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVuZGVyZWRXaWRnZXRzOiBXaWRnZXRbXSwgcHJpdmF0ZSBhdmFpbGFibGVXaWRnZXRzOiBXaWRnZXRbXSkge1xyXG4gICAgdGhpcy5idWlsZExpYnJhcnkoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNXaWRnZXRSZW5kZXJlZCh3aWRnZXQpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnJlbmRlcmVkV2lkZ2V0c1xyXG4gICAgICAubWFwKHJlbmRlcmVkV2lkZ2V0ID0+IHJlbmRlcmVkV2lkZ2V0LmlkKVxyXG4gICAgICAuaW5kZXhPZih3aWRnZXQuaWQpID49IDA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGJ1aWxkTGlicmFyeSgpIHtcclxuICAgIHRoaXMud2lkZ2V0cyA9IHRoaXMuYXZhaWxhYmxlV2lkZ2V0cy5tYXAod2lkZ2V0ID0+IHtcclxuICAgICAgY29uc3QgaXNSZW5kZXJlZCA9IHRoaXMuaXNXaWRnZXRSZW5kZXJlZCh3aWRnZXQpO1xyXG4gICAgICByZXR1cm4geyBpc1JlbmRlcmVkLCB3aWRnZXQgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdCh4UG9zaXRpb246IG51bWJlciwgeVBvc2l0aW9uOiBudW1iZXIpIHtcclxuICAgIHRoaXMuaXNEaXNwbGF5ZWQgPSB0cnVlO1xyXG4gICAgdGhpcy54UG9zaXRpb24gPSB4UG9zaXRpb247XHJcbiAgICB0aGlzLnlQb3NpdGlvbiA9IHlQb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICB0aGlzLmlzRGlzcGxheWVkID0gZmFsc2U7XHJcbiAgICB0aGlzLnhQb3NpdGlvbiA9IG51bGw7XHJcbiAgICB0aGlzLnlQb3NpdGlvbiA9IG51bGw7XHJcbiAgfVxyXG5cclxuICByZW5kZXJXaWRnZXQod2lkZ2V0OiBXaWRnZXQpOiB2b2lkIHtcclxuICAgIHRoaXMucmVuZGVyZWRXaWRnZXRzLnB1c2god2lkZ2V0KTtcclxuICAgIHRoaXMuYnVpbGRMaWJyYXJ5KCk7XHJcbiAgfVxyXG5cclxuICBkZXJlbmRlcldpZGdldCh3aWRnZXQ6IFdpZGdldCk6IHZvaWQge1xyXG4gICAgdGhpcy5yZW5kZXJlZFdpZGdldHNcclxuICAgICAgLmZpbHRlcih4ID0+IHguaWQgPT09IHdpZGdldC5pZClcclxuICAgICAgLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlZFdpZGdldHMuc3BsaWNlKHRoaXMucmVuZGVyZWRXaWRnZXRzLmluZGV4T2YoeCksIDEpO1xyXG4gICAgICB9KTtcclxuICAgIHRoaXMuYnVpbGRMaWJyYXJ5KCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBMYXlvdXRFZGl0b3Ige1xyXG4gIGlzRGlzcGxheWVkID0gZmFsc2U7XHJcbiAgeFBvc2l0aW9uOiBudW1iZXI7XHJcbiAgeVBvc2l0aW9uOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIGVkaXQoeFBvc2l0aW9uOiBudW1iZXIsIHlQb3NpdGlvbjogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmlzRGlzcGxheWVkID0gdHJ1ZTtcclxuICAgIHRoaXMueFBvc2l0aW9uID0geFBvc2l0aW9uO1xyXG4gICAgdGhpcy55UG9zaXRpb24gPSB5UG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBoaWRlKCkge1xyXG4gICAgdGhpcy5pc0Rpc3BsYXllZCA9IGZhbHNlO1xyXG4gICAgdGhpcy54UG9zaXRpb24gPSBudWxsO1xyXG4gICAgdGhpcy55UG9zaXRpb24gPSBudWxsO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5qZWN0LCBIb3N0TGlzdGVuZXIsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJ3J4anMvYWRkL29ic2VydmFibGUvb2YnO1xuaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9kZWxheSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBXaWRnZXQgfSBmcm9tICcuLi93aWRnZXQubW9kZWwnO1xuaW1wb3J0IHsgV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi4vd2lkZ2V0L3dpZGdldC5jb21wb25lbnQnO1xuaW1wb3J0IHsgU3BhY2VyQ29tcG9uZW50IH0gZnJvbSAnLi4vc3BhY2VyL3NwYWNlci5jb21wb25lbnQnO1xuaW1wb3J0IHsgTGlicmFyeSB9IGZyb20gJy4uL2xpYnJhcnkubW9kZWwnO1xuaW1wb3J0IHsgTGF5b3V0RWRpdG9yIH0gZnJvbSAnLi4vbGF5b3V0LWVkaXRvci5tb2RlbCc7XG5pbXBvcnQgeyBCb290c3RyYXBTZXJ2aWNlIH0gZnJvbSAnLi4vYm9vdHN0cmFwLnNlcnZpY2UnO1xuaW1wb3J0IHsgSVdpZGdldHNTZXJ2aWNlIH0gZnJvbSAnLi4vd2lkZ2V0cy5zZXJ2aWNlLmludGVyZmFjZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FwcC13aWRnZXRzLXBhbmVsJyxcbiAgdGVtcGxhdGU6IGA8YXBwLXdpZGdldHMtcGFuZWwtY29udHJvbHMgKGVkaXRMaWJyYXJ5KT0nb25FZGl0TGlicmFyeSgkZXZlbnQpJyAoZWRpdExheW91dCk9J29uRWRpdExheW91dCgkZXZlbnQpJz48L2FwcC13aWRnZXRzLXBhbmVsLWNvbnRyb2xzPlxyXG48YXBwLXdpZGdldHMtbGlicmFyeSAqbmdJZj0nbGlicmFyeS5pc0Rpc3BsYXllZCcgW2xpYnJhcnldPSdsaWJyYXJ5JyAoZG9uZSk9J29uSGlkZUxpYnJhcnkoKScgKHJlbmRlcldpZGdldCk9J29uUmVuZGVyV2lkZ2V0KCRldmVudCknIChkZXJlbmRlcldpZGdldCk9J29uRGVyZW5kZXJXaWRnZXQoJGV2ZW50KSc+PC9hcHAtd2lkZ2V0cy1saWJyYXJ5PlxyXG48YXBwLXdpZGdldHMtbGF5b3V0LWVkaXRvciAqbmdJZj0nbGF5b3V0RWRpdG9yLmlzRGlzcGxheWVkJyBbbGF5b3V0RWRpdG9yXT0nbGF5b3V0RWRpdG9yJyAoZG9uZSk9J29uSGlkZUxheW91dEVkaXRvcigpJz48L2FwcC13aWRnZXRzLWxheW91dC1lZGl0b3I+XHJcbjxuZy1jb250YWluZXIgKm5nRm9yPSdsZXQgaXRlbSBvZiBpdGVtcyc+XHJcbiAgPGFwcC13aWRnZXQgKm5nSWY9J2l0ZW0ud2lkZ2V0OyBlbHNlIGRyb3AnIFt3aWRnZXRdPSdpdGVtLndpZGdldCcgKHdpZGdldE1vdmluZyk9J29uV2lkZ2V0TW92ZSgkZXZlbnQpJyAod2lkZ2V0RHJvcHBlZCk9J29uV2lkZ2V0RHJvcHBlZCgpJyAod2lkZ2V0SG92ZXJlZCk9J29uV2lkZ2V0SG92ZXJlZCgkZXZlbnQpJyAod2lkZ2V0VW5ob3ZlcmVkKT0nb25XaWRnZXRVbmhvdmVyZWQoKScgKHJlc2l6ZVN0YXJ0ZWQpPSdvbldpZGdldFJlc2l6ZVN0YXJ0ZWQoJGV2ZW50KSdcclxuICAgIChjbG9zZSk9J29uV2lkZ2V0Q2xvc2VDbGljaygkZXZlbnQpJyAoZnVsbHNjcmVlbik9J29uV2lkZ2V0VG9nZ2xlRnVsbFNjcmVlbkNsaWNrKCknPjwvYXBwLXdpZGdldD5cclxuICA8bmctdGVtcGxhdGUgI2Ryb3A+XHJcbiAgICA8YXBwLXdpZGdldC1kcm9wLXRhcmdldCAqbmdJZj0naXRlbS5kcm9wVGFyZ2V0OyBlbHNlIHNwYWNlcicgW2Ryb3BUYXJnZXRdPSdpdGVtLmRyb3BUYXJnZXQnIFtoZWlnaHRdPSdpdGVtLmhlaWdodCc+PC9hcHAtd2lkZ2V0LWRyb3AtdGFyZ2V0PlxyXG4gICAgPG5nLXRlbXBsYXRlICNzcGFjZXI+XHJcbiAgICAgIDxhcHAtd2lkZ2V0cy1wYW5lbC1zcGFjZXIgW3NwYWNlcl09J2l0ZW0uc3BhY2VyJyAoc3BhY2VySG92ZXJlZCk9J29uU3BhY2VySG92ZXJlZCgkZXZlbnQpJyAoc3BhY2VyVW5ob3ZlcmVkKT0nb25TcGFjZXJVbmhvdmVyZWQoKSc+PC9hcHAtd2lkZ2V0cy1wYW5lbC1zcGFjZXI+XHJcbiAgICA8L25nLXRlbXBsYXRlPlxyXG4gIDwvbmctdGVtcGxhdGU+XHJcbjwvbmctY29udGFpbmVyPlxyXG48YXBwLXdpZGdldC1yZXNpemUtZ3VpZGVsaW5lICpuZ0Zvcj0nbGV0IGd1aWRlbGluZSBvZiByZXNpemVHdWlkZWxpbmVzJyBbZ3VpZGVsaW5lXT0nZ3VpZGVsaW5lJyAocmVzaXplZCk9J29uV2lkZ2V0UmVzaXplZCgkZXZlbnQpJz48L2FwcC13aWRnZXQtcmVzaXplLWd1aWRlbGluZT5gLFxuICBzdHlsZXM6IFtgLm1vdmluZy13aWRnZXR7cG9zaXRpb246YWJzb2x1dGU7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OjEwMH1gXVxufSlcbmV4cG9ydCBjbGFzcyBQYW5lbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgbGlicmFyeTogTGlicmFyeTtcbiAgbGF5b3V0RWRpdG9yID0gbmV3IExheW91dEVkaXRvcigpO1xuICBpdGVtczogYW55W107XG4gIHJlc2l6ZUd1aWRlbGluZXM6IGFueVtdID0gW107XG5cbiAgLy8gQWxsIHN1YnNjcmlwdGlvbnMgbXVzdCBiZSBjbGVhbmVkIHVwIHRvIHByZXZlbnQgbGVha3MuXG4gIHByaXZhdGUgbW92ZUhvdmVyU3Vic2NyaXB0aW9uOiBhbnk7XG4gIHByaXZhdGUgbW91c2VVcFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICBwcml2YXRlIHRvdWNoRW5kU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG5cbiAgcHJpdmF0ZSBpc092ZXJsYXlEaXNwbGF5ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBtb3ZpbmdXaWRnZXRDb21wb25lbnQ6IFdpZGdldENvbXBvbmVudDtcblxuICBASG9zdExpc3RlbmVyKCd3aW5kb3c6cmVzaXplJykgb25SZXNpemUoKSB7XG4gICAgaWYgKHRoaXMuYm9vdHN0cmFwU2VydmljZS5oYXNCcmVha3BvaW50Q2hhbmdlZCgpKSB7XG4gICAgICB0aGlzLmFkZEhvcml6b250YWxTcGFjZXJzKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgQEluamVjdChET0NVTUVOVCkgcHJpdmF0ZSBkb2N1bWVudCxcbiAgICBASW5qZWN0KCd3aWRnZXRzU2VydmljZScpIHByaXZhdGUgd2lkZ2V0c1NlcnZpY2U6IElXaWRnZXRzU2VydmljZSxcbiAgICBwcml2YXRlIGJvb3RzdHJhcFNlcnZpY2U6IEJvb3RzdHJhcFNlcnZpY2UpIHtcbiAgfVxuXG4gIHByaXZhdGUgcHJldmVudEhpZ2hsaWdodGluZ1doaWxlTW92aW5nKCk6IHZvaWQge1xuICAgIHRoaXMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCduby1oaWdobGlnaHRpbmcnKTtcbiAgfVxuXG4gIHByaXZhdGUgYWxsb3dIaWdobGlnaHRpbmcoKTogdm9pZCB7XG4gICAgdGhpcy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ25vLWhpZ2hsaWdodGluZycpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVTcGFjZXIoKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3BhY2VyOiB7fVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNsZWFyU3BhY2VycygpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKHRoaXMuaXRlbXNbaV0uc3BhY2VyKSB7XG4gICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkSG9yaXpvbnRhbFNwYWNlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhclNwYWNlcnMoKTtcblxuICAgIGxldCB1c2VkV2lkdGhPblJvdyA9IDA7XG4gICAgY29uc3QgaW5kZXhlc1RvSW5zZXJ0U3BhY2VyID0gWzBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB3aWRnZXQgPSB0aGlzLml0ZW1zW2ldLndpZGdldCB8fCB0aGlzLml0ZW1zW2ldLmRyb3BUYXJnZXQ7XG5cbiAgICAgIGlmICh0aGlzLm1vdmluZ1dpZGdldENvbXBvbmVudCAmJiB3aWRnZXQgPT09IHRoaXMubW92aW5nV2lkZ2V0Q29tcG9uZW50LndpZGdldCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgd2lkZ2V0V2lkdGggPSB0aGlzLmJvb3RzdHJhcFNlcnZpY2UuZ2V0V2lkdGgod2lkZ2V0LmdldEN1cnJlbnRXaWR0aC5iaW5kKHdpZGdldCkpO1xuICAgICAgdXNlZFdpZHRoT25Sb3cgKz0gd2lkZ2V0V2lkdGg7XG5cbiAgICAgIGlmICh1c2VkV2lkdGhPblJvdyA9PT0gdGhpcy5ib290c3RyYXBTZXJ2aWNlLm1heENvbHVtbnMpIHtcbiAgICAgICAgaW5kZXhlc1RvSW5zZXJ0U3BhY2VyLnB1c2goaSArIDEpO1xuICAgICAgICB1c2VkV2lkdGhPblJvdyA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHVzZWRXaWR0aE9uUm93ID4gdGhpcy5ib290c3RyYXBTZXJ2aWNlLm1heENvbHVtbnMpIHtcbiAgICAgICAgaW5kZXhlc1RvSW5zZXJ0U3BhY2VyLnB1c2goaSk7XG4gICAgICAgIHVzZWRXaWR0aE9uUm93ID0gd2lkZ2V0V2lkdGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5kZXhlc1RvSW5zZXJ0U3BhY2VyXG4gICAgICAucmV2ZXJzZSgpXG4gICAgICAuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoeCwgMCwgdGhpcy5jcmVhdGVTcGFjZXIoKSk7XG4gICAgICB9KTtcblxuICAgIGlmICghdGhpcy5pdGVtc1t0aGlzLml0ZW1zLmxlbmd0aCAtIDFdLnNwYWNlcikge1xuICAgICAgdGhpcy5pdGVtcy5wdXNoKHRoaXMuY3JlYXRlU3BhY2VyKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdG9nZ2xlT3ZlcmxheSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzT3ZlcmxheURpc3BsYXllZCA9ICF0aGlzLmlzT3ZlcmxheURpc3BsYXllZDtcblxuICAgIGlmICh0aGlzLmlzT3ZlcmxheURpc3BsYXllZCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIGNvbnN0IHJlbmRlcmVkV2lkZ2V0cyA9IHRoaXMud2lkZ2V0c1NlcnZpY2UuZ2V0UmVuZGVyZWRXaWRnZXRzKCk7XG4gICAgdGhpcy5pdGVtcyA9IHJlbmRlcmVkV2lkZ2V0cy5tYXAoeCA9PiB7XG4gICAgICByZXR1cm4geyB3aWRnZXQ6IHggfTtcbiAgICB9KTtcbiAgICB0aGlzLmFkZEhvcml6b250YWxTcGFjZXJzKCk7XG4gICAgY29uc3QgYXZhaWxhYmxlV2lkZ2V0cyA9IHRoaXMud2lkZ2V0c1NlcnZpY2UuZ2V0QXZhaWxhYmxlV2lkZ2V0cygpO1xuICAgIHRoaXMubGlicmFyeSA9IG5ldyBMaWJyYXJ5KHJlbmRlcmVkV2lkZ2V0cywgYXZhaWxhYmxlV2lkZ2V0cyk7XG4gIH1cblxuICBvbkVkaXRMaWJyYXJ5KGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLmxpYnJhcnkuZWRpdChldmVudC5wYWdlWCwgZXZlbnQucGFnZVkpO1xuICAgIHRoaXMudG9nZ2xlT3ZlcmxheSgpO1xuICB9XG5cbiAgb25IaWRlTGlicmFyeSgpOiB2b2lkIHtcbiAgICB0aGlzLmxpYnJhcnkuaGlkZSgpO1xuICAgIHRoaXMudG9nZ2xlT3ZlcmxheSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhckV4aXN0aW5nRHJvcFRhcmdldCgpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLml0ZW1zW2ldLmRyb3BUYXJnZXQpIHtcbiAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc1dpZGdldE1vdmluZ0Rvd24obW92aW5nV2lkZ2V0LCBpbmRleE9mRHJvcCkge1xuICAgIGNvbnN0IGluZGV4T2ZXaWRnZXRCZWZvcmVNb3ZlID0gdGhpcy5pdGVtc1xuICAgICAgLm1hcCh4ID0+IHgud2lkZ2V0KVxuICAgICAgLmluZGV4T2YobW92aW5nV2lkZ2V0KTtcbiAgICByZXR1cm4gaW5kZXhPZkRyb3AgPiBpbmRleE9mV2lkZ2V0QmVmb3JlTW92ZTtcbiAgfVxuXG4gIHByaXZhdGUgaW5zZXJ0RHJvcFRhcmdldChjdXJyZW50UmVzaWRlbnQ6IGFueSwgbmV3UmVzaWRlbnQ6IFdpZGdldENvbXBvbmVudCkge1xuICAgIGlmICghbmV3UmVzaWRlbnQpIHtcbiAgICAgIG5ld1Jlc2lkZW50ID0gY3VycmVudFJlc2lkZW50O1xuICAgIH1cbiAgICB0aGlzLmNsZWFyRXhpc3RpbmdEcm9wVGFyZ2V0KCk7XG4gICAgY29uc3QgZHJvcFRhcmdldCA9IG5ld1Jlc2lkZW50LndpZGdldC5jbG9uZSgpO1xuICAgIGxldCBpbmRleE9mRHJvcDogbnVtYmVyO1xuXG4gICAgaWYgKGN1cnJlbnRSZXNpZGVudCBpbnN0YW5jZW9mIFNwYWNlckNvbXBvbmVudCkge1xuICAgICAgdGhpcy5ib290c3RyYXBTZXJ2aWNlLm1ha2VGdWxsV2lkdGgoZHJvcFRhcmdldC5tYWtlRnVsbFdpZHRoLmJpbmQoZHJvcFRhcmdldCkpO1xuICAgICAgaW5kZXhPZkRyb3AgPSB0aGlzLml0ZW1zXG4gICAgICAgIC5tYXAoeCA9PiB4LnNwYWNlcilcbiAgICAgICAgLmluZGV4T2YoY3VycmVudFJlc2lkZW50LnNwYWNlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZGV4T2ZEcm9wID0gdGhpcy5pdGVtc1xuICAgICAgICAubWFwKHggPT4geC53aWRnZXQpXG4gICAgICAgIC5pbmRleE9mKGN1cnJlbnRSZXNpZGVudC53aWRnZXQpO1xuICAgICAgaWYgKHRoaXMuaXNXaWRnZXRNb3ZpbmdEb3duKG5ld1Jlc2lkZW50LndpZGdldCwgaW5kZXhPZkRyb3ApKSB7XG4gICAgICAgIGluZGV4T2ZEcm9wKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGVpZ2h0ID0gbmV3UmVzaWRlbnQuZ2V0SGVpZ2h0SW5mb3JtYXRpb24oKS5oZWlnaHQ7XG4gICAgdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXhPZkRyb3AsIDAsIHsgZHJvcFRhcmdldDogZHJvcFRhcmdldCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gIH1cblxuICBvbldpZGdldE1vdmUod2lkZ2V0Q29tcG9uZW50OiBXaWRnZXRDb21wb25lbnQpOiB2b2lkIHtcbiAgICB0aGlzLm1vdmluZ1dpZGdldENvbXBvbmVudCA9IHdpZGdldENvbXBvbmVudDtcbiAgICB0aGlzLnByZXZlbnRIaWdobGlnaHRpbmdXaGlsZU1vdmluZygpO1xuICAgIHRoaXMuaW5zZXJ0RHJvcFRhcmdldCh3aWRnZXRDb21wb25lbnQsIG51bGwpO1xuICB9XG5cbiAgb25XaWRnZXREcm9wcGVkKCk6IHZvaWQge1xuICAgIHRoaXMuaXRlbXMuc3BsaWNlKFxuICAgICAgdGhpcy5pdGVtcy5tYXAoeCA9PiB4LndpZGdldCkuaW5kZXhPZih0aGlzLm1vdmluZ1dpZGdldENvbXBvbmVudC53aWRnZXQpLFxuICAgICAgMSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5pdGVtc1tpXS5kcm9wVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGksIDEsIHsgd2lkZ2V0OiB0aGlzLm1vdmluZ1dpZGdldENvbXBvbmVudC53aWRnZXQgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFsbG93SGlnaGxpZ2h0aW5nKCk7XG4gICAgdGhpcy5tb3ZpbmdXaWRnZXRDb21wb25lbnQgPSBudWxsO1xuICAgIHRoaXMuYWRkSG9yaXpvbnRhbFNwYWNlcnMoKTtcbiAgfVxuXG4gIG9uV2lkZ2V0SG92ZXJlZCh3aWRnZXRDb21wb25lbnQ6IFdpZGdldENvbXBvbmVudCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5tb3ZpbmdXaWRnZXRDb21wb25lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ3Rlc3QgMCcsIG5ldyBEYXRlKCkpO1xuICAgIHRoaXMubW92ZUhvdmVyU3Vic2NyaXB0aW9uID0gT2JzZXJ2YWJsZS5vZih7fSlcbiAgICAgIC5kZWxheSgzMClcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygndGVzdCcsIG5ldyBEYXRlKCkpO1xuICAgICAgICBpZiAoIXRoaXMubW92aW5nV2lkZ2V0Q29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zZXJ0RHJvcFRhcmdldCh3aWRnZXRDb21wb25lbnQsIHRoaXMubW92aW5nV2lkZ2V0Q29tcG9uZW50KTtcbiAgICAgICAgdGhpcy5hZGRIb3Jpem9udGFsU3BhY2VycygpO1xuICAgICAgfSk7XG4gIH1cblxuICBvbldpZGdldFVuaG92ZXJlZCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tb3ZlSG92ZXJTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMubW92ZUhvdmVyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB0aGlzLm1vdmVIb3ZlclN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgb25TcGFjZXJIb3ZlcmVkKHNwYWNlckNvbXBvbmVudDogU3BhY2VyQ29tcG9uZW50KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm1vdmluZ1dpZGdldENvbXBvbmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLm1vdmVIb3ZlclN1YnNjcmlwdGlvbiA9IE9ic2VydmFibGUub2Yoe30pXG4gICAgICAuZGVsYXkoMzAwKVxuICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5tb3ZpbmdXaWRnZXRDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnNlcnREcm9wVGFyZ2V0KHNwYWNlckNvbXBvbmVudCwgdGhpcy5tb3ZpbmdXaWRnZXRDb21wb25lbnQpO1xuICAgICAgICB0aGlzLmFkZEhvcml6b250YWxTcGFjZXJzKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIG9uU3BhY2VyVW5ob3ZlcmVkKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm1vdmVIb3ZlclN1YnNjcmlwdGlvbikge1xuICAgICAgdGhpcy5tb3ZlSG92ZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIHRoaXMubW92ZUhvdmVyU3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG1ha2VHcmlkKCkge1xuICAgIGNvbnN0IGdyaWQgPSBbXTtcbiAgICBncmlkLnB1c2goW10pO1xuICAgIGxldCBjdXJyZW50Um93V2lkdGggPSAwO1xuICAgIGNvbnN0IHdpZGdldHMgPSB0aGlzLml0ZW1zXG4gICAgICAuZmlsdGVyKHggPT4geC53aWRnZXQpXG4gICAgICAubWFwKHggPT4geC53aWRnZXQpO1xuICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpZGdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHdpZGdldCA9IHdpZGdldHNbaV07XG4gICAgICBjb25zdCB3aWR0aCA9IHRoaXMuYm9vdHN0cmFwU2VydmljZVxuICAgICAgICAuZ2V0V2lkdGgod2lkZ2V0LmdldEN1cnJlbnRXaWR0aC5iaW5kKHdpZGdldCkpO1xuICAgICAgZ3JpZFtncmlkLmxlbmd0aCAtIDFdLnB1c2god2lkZ2V0KTtcbiAgICAgIGN1cnJlbnRSb3dXaWR0aCArPSB3aWR0aDtcbiAgICAgIGNvbnN0IGlzTGFzdFdpZGdldCA9IGkgPT09IHdpZGdldHMubGVuZ3RoIC0gMTtcbiAgICAgIGlmIChpc0xhc3RXaWRnZXQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFJvd1dpZHRoID09PSB0aGlzLmJvb3RzdHJhcFNlcnZpY2UubWF4Q29sdW1ucykge1xuICAgICAgICBncmlkLnB1c2goW10pO1xuICAgICAgICBjdXJyZW50Um93V2lkdGggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUHJldmlldyB0aGUgbmV4dCB3aWRnZXQgYW5kIHNlZSBpZiBhIG5ldyByb3cgaXMgbmVlZGVkIGR1ZSB0byBsYWNrIG9mIHNwYWNlLlxuICAgICAgICBjb25zdCBuZXh0V2lkZ2V0ID0gd2lkZ2V0c1tpICsgMV07XG4gICAgICAgIGNvbnN0IG5leHRXaWRnZXRXaWR0aCA9IHRoaXMuYm9vdHN0cmFwU2VydmljZVxuICAgICAgICAgIC5nZXRXaWR0aChuZXh0V2lkZ2V0LmdldEN1cnJlbnRXaWR0aC5iaW5kKG5leHRXaWRnZXQpKTtcbiAgICAgICAgY29uc3Qgc3BhY2VMZWZ0T25DdXJyZW50Um93ID0gdGhpcy5ib290c3RyYXBTZXJ2aWNlLm1heENvbHVtbnMgLSBjdXJyZW50Um93V2lkdGg7XG4gICAgICAgIGlmIChuZXh0V2lkZ2V0V2lkdGggPiBzcGFjZUxlZnRPbkN1cnJlbnRSb3cpIHtcbiAgICAgICAgICBncmlkLnB1c2goW10pO1xuICAgICAgICAgIGN1cnJlbnRSb3dXaWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIHJldHVybiBncmlkO1xuICB9O1xuXG4gIHByaXZhdGUgZmluZFJvd0NvbnRhaW5pbmdXaWRnZXQod2lkZ2V0OiBXaWRnZXQpOiBXaWRnZXRbXSB7XG4gICAgLy8gSSdtIG1ha2luZyBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IG9mIHRoZSBlbnRpcmUgZ3JpZCBiZWZvcmUgdHJ5aW5nIHRvXG4gICAgLy8gZmluZCB3aGljaCByb3cgdGhlIHdpZGdldCBpcyBpbi4gVGhpcyBpcyBsZXNzIGVmZmljaWVudCB0aGFuIGJ1aWxkaW5nIHRoZVxuICAgIC8vIGdyaWQgYW5kIHNpbXVsdGFuZW91c2x5IGNoZWNraW5nIGlmIHRoZSByb3cgaGFzIHRoZSB3aWRnZXQsIGJ1dCBpdCBtYWtlc1xuICAgIC8vIHRoZSBsb2dpYyBtdWNoIG1vcmUgcmVhc29uYWJsZS5cbiAgICBjb25zdCBncmlkID0gdGhpcy5tYWtlR3JpZCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JpZC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgd2lkZ2V0SW5kZXggPSBncmlkW2ldLmluZGV4T2Yod2lkZ2V0KTtcbiAgICAgIGlmICh3aWRnZXRJbmRleCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBncmlkW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGNhbGN1bGF0ZUJvdW5kYXJpZXMod2lkZ2V0OiBXaWRnZXQpOiBvYmplY3Qge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMuZmluZFJvd0NvbnRhaW5pbmdXaWRnZXQod2lkZ2V0KTtcbiAgICBjb25zb2xlLmxvZyhcInJvd1wiLCByb3cpO1xuICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHJvd1xuICAgICAgLnNsaWNlKDAsIHJvdy5pbmRleE9mKHdpZGdldCkgKyAxKVxuICAgICAgLm1hcCh4ID0+IHRoaXMuYm9vdHN0cmFwU2VydmljZS5nZXRXaWR0aCh4LmdldEN1cnJlbnRXaWR0aC5iaW5kKHgpKSlcbiAgICAgIC5yZWR1Y2UoKHgsIHkpID0+IHggKyB5KTtcbiAgICBjb25zdCBtaW5pbXVtV2lkdGggPSB0aGlzLmJvb3RzdHJhcFNlcnZpY2UuZ2V0V2lkdGgod2lkZ2V0LmdldE1pbmltdW1XaWR0aC5iaW5kKHdpZGdldCkpO1xuICAgIGNvbnN0IHNwYWNlVG9NaW5pbWl6ZSA9IHRoaXMuYm9vdHN0cmFwU2VydmljZS5nZXRXaWR0aCh3aWRnZXQuZ2V0Q3VycmVudFdpZHRoLmJpbmQod2lkZ2V0KSkgLSBtaW5pbXVtV2lkdGg7XG4gICAgXG4gICAgLy8gRG9uJ3QgZ28gbGVmdCBmYXIgZW5vdWdoIHRvIGV4Y2VlZCB0aGUgbWluaW11bSBvZiB0aGUgd2lkZ2V0LlxuICAgIGNvbnN0IGxlZnQgPSBjdXJyZW50UG9zaXRpb24gLSBzcGFjZVRvTWluaW1pemU7XG4gICAgLy8gRG9uJ3QgZ28gcmlnaHQgZmFyIGVub3VnaCB0byBleGNlZWQgdGhlIHdpZHRoIG9mIHRoZSByb3cuXG4gICAgY29uc3QgcmlnaHQgPSB0aGlzLmJvb3RzdHJhcFNlcnZpY2UubWF4Q29sdW1ucztcbiAgICAvLyBUaGlzIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGF0IHdoaWNoIGNvbHVtbiB0byBzdGFydCBkcmF3aW5nIGd1aWRlbGluZXMuXG4gICAgY29uc3Qgb2Zmc2V0ID0gbWluaW11bVdpZHRoIC0gbGVmdDtcbiAgICByZXR1cm4geyBsZWZ0LCByaWdodCwgb2Zmc2V0IH07XG4gIH1cblxuICBwcml2YXRlIGRyYXdSZXNpemVHdWlkZWxpbmVzKHdpZGdldENvbXBvbmVudDogV2lkZ2V0Q29tcG9uZW50KTogdm9pZCB7XG4gICAgY29uc3QgaGVpZ2h0SW5mb3JtYXRpb24gPSB3aWRnZXRDb21wb25lbnQuZ2V0SGVpZ2h0SW5mb3JtYXRpb24oKTtcbiAgICBjb25zdCBib3VuZGFyaWVzOiBhbnkgPSB0aGlzLmNhbGN1bGF0ZUJvdW5kYXJpZXMod2lkZ2V0Q29tcG9uZW50LndpZGdldCk7XG4gICAgZm9yIChsZXQgaSA9IGJvdW5kYXJpZXMubGVmdDsgaSA8PSBib3VuZGFyaWVzLnJpZ2h0OyBpKyspIHtcbiAgICAgIC8vIHVuc2hpZnQoKSB3aGljaCBpbnNlcnRzIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5IGluc3RlYWQgb2YgcHVzaCgpXG4gICAgICAvLyBiZWNhdXNlIHdlIHdhbnQgdG8gZGlzcGxheSB0aGUgbG9uZ2VzdCBndWlkZWxpbmUgZmlyc3Qgc28gdGhhdCB0aGUgc2hvcnRlclxuICAgICAgLy8gb25lIGlzIG9uIHRvcCBvZiB0aGUgbG9uZ2VyIG9uZS4gVGhpcyB3aWxsIGhlbHAgd2hlbiB3ZSBob3ZlciBvdmVyIGVhY2ggb25lLlxuICAgICAgLy8gSWYgdGhlIGxvbmdlciBvbmUgd2FzIG9uIHRvcCBpdCB3b3VsZCBiZSB0aGUgb25seSBndWlkZWxpbmUgcmFpc2luZyBldmVudHMuXG4gICAgICB0aGlzLnJlc2l6ZUd1aWRlbGluZXMudW5zaGlmdCh7XG4gICAgICAgIHdpZHRoT2ZHdWlkZWxpbmU6IGksXG4gICAgICAgIHRhcmdldFdpZHRoT2ZXaWRnZXQ6IGkgKyBib3VuZGFyaWVzLm9mZnNldCxcbiAgICAgICAgdG9wOiBoZWlnaHRJbmZvcm1hdGlvbi50b3AsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0SW5mb3JtYXRpb24uaGVpZ2h0LFxuICAgICAgICB3aWRnZXQ6IHdpZGdldENvbXBvbmVudC53aWRnZXRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uV2lkZ2V0UmVzaXplZCh3aWRnZXQ6IFdpZGdldCk6IHZvaWQge1xuICAgIGNvbnN0IGluZGV4T2ZXaWRnZXQgPSB0aGlzLml0ZW1zXG4gICAgICAubWFwKHggPT4geC53aWRnZXQpXG4gICAgICAuaW5kZXhPZih3aWRnZXQpO1xuICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4T2ZXaWRnZXQsIDEsIHsgd2lkZ2V0IH0pO1xuICAgIHRoaXMuYWRkSG9yaXpvbnRhbFNwYWNlcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgZW5kV2lkZ2V0UmVzaXplKCkge1xuICAgIHRoaXMucmVzaXplR3VpZGVsaW5lcyA9IFtdO1xuICAgIHRoaXMuYWxsb3dIaWdobGlnaHRpbmcoKTtcbiAgICBpZiAodGhpcy5tb3VzZVVwU3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLm1vdXNlVXBTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudG91Y2hFbmRTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMudG91Y2hFbmRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICBvbldpZGdldFJlc2l6ZVN0YXJ0ZWQod2lkZ2V0Q29tcG9uZW50KTogdm9pZCB7XG4gICAgdGhpcy5kcmF3UmVzaXplR3VpZGVsaW5lcyh3aWRnZXRDb21wb25lbnQpO1xuICAgIHRoaXMucHJldmVudEhpZ2hsaWdodGluZ1doaWxlTW92aW5nKCk7XG4gICAgdGhpcy5tb3VzZVVwU3Vic2NyaXB0aW9uID1cbiAgICAgIE9ic2VydmFibGUuZnJvbUV2ZW50KHRoaXMuZG9jdW1lbnQsICdtb3VzZXVwJylcbiAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5lbmRXaWRnZXRSZXNpemUoKTtcbiAgICAgICAgICBpZiAodGhpcy5tb3VzZVVwU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlVXBTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIHRoaXMudG91Y2hFbmRTdWJzY3JpcHRpb24gPVxuICAgICAgT2JzZXJ2YWJsZS5mcm9tRXZlbnQodGhpcy5kb2N1bWVudCwgJ3RvdWNoZW5kJylcbiAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5lbmRXaWRnZXRSZXNpemUoKTtcbiAgICAgICAgICBpZiAodGhpcy50b3VjaEVuZFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy50b3VjaEVuZFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIH1cblxuICBvblJlbmRlcldpZGdldCh3aWRnZXQ6IFdpZGdldCkge1xuICAgIHRoaXMuaXRlbXMudW5zaGlmdCh7IHdpZGdldCB9KTtcbiAgICB0aGlzLmFkZEhvcml6b250YWxTcGFjZXJzKCk7XG4gIH1cblxuICBvbkRlcmVuZGVyV2lkZ2V0KHdpZGdldDogV2lkZ2V0KSB7XG4gICAgdGhpcy5pdGVtc1xuICAgICAgLmZpbHRlcih4ID0+IHgud2lkZ2V0ICYmIHgud2lkZ2V0LmlkID09PSB3aWRnZXQuaWQpXG4gICAgICAuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UodGhpcy5pdGVtcy5pbmRleE9mKHgpLCAxKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuYWRkSG9yaXpvbnRhbFNwYWNlcnMoKTtcbiAgfVxuXG4gIG9uRWRpdExheW91dChldmVudCkge1xuICAgIHRoaXMubGF5b3V0RWRpdG9yLmVkaXQoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKTtcbiAgICB0aGlzLnRvZ2dsZU92ZXJsYXkoKTtcbiAgfVxuXG4gIG9uSGlkZUxheW91dEVkaXRvcigpIHtcbiAgICB0aGlzLmxheW91dEVkaXRvci5oaWRlKCk7XG4gICAgdGhpcy50b2dnbGVPdmVybGF5KCk7XG4gIH1cblxuICBvbldpZGdldENsb3NlQ2xpY2sod2lkZ2V0KSB7XG4gICAgdGhpcy5pdGVtc1xuICAgICAgLmZpbHRlcih4ID0+IHgud2lkZ2V0ICYmIHgud2lkZ2V0ID09PSB3aWRnZXQpXG4gICAgICAuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UodGhpcy5pdGVtcy5pbmRleE9mKHgpLCAxKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuYWRkSG9yaXpvbnRhbFNwYWNlcnMoKTtcbiAgfVxuXG4gIG9uV2lkZ2V0VG9nZ2xlRnVsbFNjcmVlbkNsaWNrKCkge1xuICAgIHRoaXMudG9nZ2xlT3ZlcmxheSgpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubW92ZUhvdmVyU3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLm1vdmVIb3ZlclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb3VzZVVwU3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLm1vdXNlVXBTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudG91Y2hFbmRTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMudG91Y2hFbmRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBPdXRwdXQsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgQWZ0ZXJDb250ZW50SW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtd2lkZ2V0cy1wYW5lbC1jb250cm9scycsXHJcbiAgdGVtcGxhdGU6IGA8c3BhbiBjbGFzcz0nbm8taGlnaGxpZ2h0aW5nJz5cclxuICA8c3BhbiBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnIChjbGljayk9J29uTGlicmFyeUNsaWNrKCRldmVudCknPmFkZDwvc3Bhbj5cclxuPHNwYW4gY2xhc3M9J21hdGVyaWFsLWljb25zJyAoY2xpY2spPSdvbkxheW91dENsaWNrKCRldmVudCknPmRhc2hib2FyZDwvc3Bhbj5cclxuPC9zcGFuPmAsXHJcbiAgc3R5bGVzOiBbYDpob3N0e21hcmdpbi10b3A6MTBweDttYXJnaW4tcmlnaHQ6MjBweDt0ZXh0LWFsaWduOnJpZ2h0fWBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBQYW5lbENvbnRyb2xzQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlckNvbnRlbnRJbml0IHtcclxuICBAT3V0cHV0KCkgZWRpdExpYnJhcnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgZWRpdExheW91dCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYpIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcclxuICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NvbC0xMicpO1xyXG4gIH1cclxuXHJcbiAgb25MaWJyYXJ5Q2xpY2soZXZlbnQpIHtcclxuICAgIHRoaXMuZWRpdExpYnJhcnkuZW1pdChldmVudCk7XHJcbiAgfVxyXG5cclxuICBvbkxheW91dENsaWNrKGV2ZW50KSB7XHJcbiAgICB0aGlzLmVkaXRMYXlvdXQuZW1pdChldmVudCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCB0eXBlIFJlbmRlckZ1bmMgPSAoSHRtbEVsZW1lbnQpID0+IFByb21pc2U8dm9pZD47XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElXaWR0aCB7XHJcbiAgeHM6IG51bWJlcjtcclxuICBzbT86IG51bWJlcjtcclxuICBtZD86IG51bWJlcjtcclxuICBsZz86IG51bWJlcjtcclxuICB4bD86IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFdpZGdldCB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIGluaXRpYWxIZWlnaHQ6IHN0cmluZztcclxuICByZW5kZXI6IFJlbmRlckZ1bmM7XHJcbiAgaXNIaWRkZW46IGJvb2xlYW47XHJcbiAgaXNFeHBhbmRlZCA9IHRydWU7XHJcbiAgaXNGdWxsU2NyZWVuID0gZmFsc2U7XHJcblxyXG4gIHByaXZhdGUgY29uc3RydWN0b3IoXHJcbiAgICBpZDogc3RyaW5nLFxyXG4gICAgdGl0bGU6IHN0cmluZyxcclxuICAgIHByaXZhdGUgY3VycmVudFdpZHRoOiBJV2lkdGgsXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1pbmltdW1XaWR0aDogSVdpZHRoLFxyXG4gICAgaW5pdGlhbEhlaWdodDogc3RyaW5nLFxyXG4gICAgcmVuZGVyOiBSZW5kZXJGdW5jLFxyXG4gICAgaXNIaWRkZW46IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgIHRoaXMuaW5pdGlhbEhlaWdodCA9IGluaXRpYWxIZWlnaHQ7XHJcbiAgICB0aGlzLnJlbmRlciA9IChyZW5kZXIgYXMgYW55KS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5pc0hpZGRlbiA9IGlzSGlkZGVuO1xyXG4gICAgdGhpcy5jdXJyZW50V2lkdGggPSBjdXJyZW50V2lkdGg7XHJcblxyXG4gICAgLy8gVGhpcyB1c2VzIE9iamVjdC5hc3NpZ24gdG8gY3JlYXRlIGEgbmV3IG9iamVjdCBmcm9tIHRoZSBvbmUgcGFzc2VkIGluLlxyXG4gICAgLy8gVGhpcyBpcyB0byBwcmV2ZW50IHRoZSBpbnN0YW50aWF0b3IgZnJvbSBwYXNzaW5nIGluIG9uZSBvYmplY3QgdG8gYm90aFxyXG4gICAgLy8gY3VycmVudFdpZHRoIGFuZCBtaW5pbXVtV2lkdGggYW5kIHRoZW4gaGF2aW5nIHRoYXQgb2JqZWN0IHJlZiBhc3NpZ25lZFxyXG4gICAgLy8gdG8gYm90aCBwcm9wZXJ0aWVzLiBJZiB0aGF0IHdlcmUgdG8gaGFwcGVuLCB0aGVuIHVwZGF0aW5nIHRoZVxyXG4gICAgLy8gY3VycmVudFdpZHRoIHdvdWxkIGFsc28gdXBkYXRlIHRoZSBtaW5pbXVtV2lkdGguIFRoZSBtaW5pbXVtV2lkdGhcclxuICAgIC8vIHNob3VsZCBuZXZlciBiZSBjaGFuZ2VkIG9uY2Ugc2V0LlxyXG4gICAgdGhpcy5taW5pbXVtV2lkdGggPSBPYmplY3QuYXNzaWduKHt9LCBtaW5pbXVtV2lkdGgpO1xyXG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzLm1pbmltdW1XaWR0aCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlQXZhaWxhYmxlV2lkZ2V0KHsgaWQsIHRpdGxlLCB3aWR0aCwgaW5pdGlhbEhlaWdodCwgcmVuZGVyIH0pIHtcclxuICAgIHJldHVybiBuZXcgV2lkZ2V0KGlkLCB0aXRsZSwgd2lkdGgsIHdpZHRoLCBpbml0aWFsSGVpZ2h0LCByZW5kZXIsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVSZW5kZXJlZFdpZGdldCh7IGlkLCB0aXRsZSwgY3VycmVudFdpZHRoLCBtaW5pbXVtV2lkdGgsIGluaXRpYWxIZWlnaHQsIHJlbmRlciB9KSB7XHJcbiAgICByZXR1cm4gbmV3IFdpZGdldChpZCwgdGl0bGUsIGN1cnJlbnRXaWR0aCwgbWluaW11bVdpZHRoLCBpbml0aWFsSGVpZ2h0LCByZW5kZXIsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRXaWR0aChicmVha3BvaW50OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRXaWR0aFticmVha3BvaW50XTtcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRXaWR0aHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50V2lkdGg7XHJcbiAgfVxyXG5cclxuICBnZXRNaW5pbXVtV2lkdGgoYnJlYWtwb2ludDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5taW5pbXVtV2lkdGhbYnJlYWtwb2ludF07XHJcbiAgfVxyXG5cclxuICBtYWtlRnVsbFdpZHRoKGJyZWFrcG9pbnQ6IHN0cmluZywgd2lkdGg6IG51bWJlcikge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudFdpZHRoW2JyZWFrcG9pbnRdKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFdpZHRoW2JyZWFrcG9pbnRdID0gd2lkdGg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNpemUoYnJlYWtwb2ludDogc3RyaW5nLCB3aWR0aDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLmN1cnJlbnRXaWR0aFticmVha3BvaW50XSA9IHdpZHRoO1xyXG4gIH1cclxuXHJcbiAgZXhwYW5kKCk6IHZvaWQge1xyXG4gICAgdGhpcy5pc0V4cGFuZGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGNvbGxhcHNlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5pc0V4cGFuZGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVGdWxsU2NyZWVuKCk6IHZvaWQge1xyXG4gICAgdGhpcy5pc0Z1bGxTY3JlZW4gPSAhdGhpcy5pc0Z1bGxTY3JlZW47XHJcbiAgfVxyXG5cclxuICBjbG9uZSgpOiBXaWRnZXQge1xyXG4gICAgcmV0dXJuIG5ldyBXaWRnZXQoXHJcbiAgICAgIHRoaXMuaWQsXHJcbiAgICAgIHRoaXMudGl0bGUsXHJcbiAgICAgIHRoaXMuY3VycmVudFdpZHRoLFxyXG4gICAgICB0aGlzLm1pbmltdW1XaWR0aCxcclxuICAgICAgdGhpcy5pbml0aWFsSGVpZ2h0LFxyXG4gICAgICB0aGlzLnJlbmRlcixcclxuICAgICAgdGhpcy5pc0hpZGRlbik7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LFxyXG4gIE9uSW5pdCxcclxuICBJbnB1dCxcclxuICBPdXRwdXQsXHJcbiAgRWxlbWVudFJlZixcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgSW5qZWN0LFxyXG4gIE5nWm9uZSxcclxuICBPbkRlc3Ryb3ksXHJcbiAgQWZ0ZXJDb250ZW50SW5pdCxcclxuICBBZnRlclZpZXdJbml0XHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IERPQ1VNRU5UIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgV2lkZ2V0IH0gZnJvbSAnLi4vd2lkZ2V0Lm1vZGVsJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XHJcbmltcG9ydCAncnhqcy9hZGQvb2JzZXJ2YWJsZS9mcm9tRXZlbnQnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzL1N1YnNjcmlwdGlvbic7XHJcbmltcG9ydCB7IEJvb3RzdHJhcFNlcnZpY2UgfSBmcm9tICcuLi9ib290c3RyYXAuc2VydmljZSc7XHJcblxyXG5pbnRlcmZhY2UgSUNvb3JkaW5hdGVzIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG59XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2FwcC13aWRnZXQnLFxyXG4gIHRlbXBsYXRlOiBgPGRpdiBjbGFzcz0nY2FyZCBjYXJkLXJvdycgKG1vdXNlZW50ZXIpPSdvbldpZGdldE1vdXNlRW50ZXIoKScgKHRvdWNoZW50ZXIpPSdvbldpZGdldFRvdWNoRW50ZXIoKScgKG1vdXNlbGVhdmUpPSdvbldpZGdldE1vdXNlTGVhdmUoKScgKHRvdWNobGVhdmUpPSdvbldpZGdldFRvdWNoTGVhdmUoKSc+XHJcbiAgPGFwcC13aWRnZXQtY29udHJvbHMgW3dpZGdldF09J3dpZGdldCcgKG1vdXNlZG93bik9J29uV2lkZ2V0TW91c2VEb3duKCRldmVudCknICh0b3VjaHN0YXJ0KT0nb25XaWRnZXRUb3VjaFN0YXJ0KCRldmVudCknIChjbG9zZSk9J29uQ2xvc2VDbGljaygpJyAoZnVsbHNjcmVlbik9J29uVG9nZ2xlRnVsbFNjcmVlbkNsaWNrKCknPjwvYXBwLXdpZGdldC1jb250cm9scz5cclxuICA8ZGl2IFtuZ0NsYXNzXT0nd2lkZ2V0LmlzRXhwYW5kZWQgfHwgd2lkZ2V0LmlzRnVsbFNjcmVlbiA/IFwibWF4aW1pemVkXCIgOiBcIm1pbmltaXplZFwiJz5cclxuICAgIDxkaXYgY2xhc3M9J2NvbnRhaW5lcic+XHJcbiAgICAgIDxkaXYgW3N0eWxlLmhlaWdodF09J3dpZGdldC5pbml0aWFsSGVpZ2h0Jz5cclxuICAgICAgICA8ZGl2IGNsYXNzPSdsb2FkZXInPkxvYWRpbmcuLi48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9J3Jlc2l6ZXIgZC1ub25lIGQtc20taW5saW5lJyAobW91c2Vkb3duKT0nb25SZXNpemVyTW91c2VEb3duKCknICh0b3VjaHN0YXJ0KT0nb25SZXNpemVyVG91Y2hTdGFydCgpJz48L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+YCxcclxuICBzdHlsZXM6IFtgOmhvc3R7ZGlzcGxheTpibG9ja306aG9zdD5kaXZ7aGVpZ2h0OjEwMCU7bWFyZ2luOjB9LnJlc2l6ZXJ7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NXB4O2hlaWdodDo5OCU7dG9wOjJweDtyaWdodDoycHg7Y3Vyc29yOmV3LXJlc2l6ZX0ubWF4aW1pemVke29wYWNpdHk6MTt0cmFuc2l0aW9uLXByb3BlcnR5OmhlaWdodCxvcGFjaXR5O3RyYW5zaXRpb24tZHVyYXRpb246LjJzLC41c30ubWluaW1pemVke29wYWNpdHk6MDt0cmFuc2l0aW9uLXByb3BlcnR5OmhlaWdodCxvcGFjaXR5O3RyYW5zaXRpb24tZHVyYXRpb246LjVzLDA7aGVpZ2h0OjAhaW1wb3J0YW50fTpob3N0LmZ1bGxzY3JlZW4gLnJlc2l6ZXJ7Y3Vyc29yOmRlZmF1bHR9Omhvc3QuZnVsbHNjcmVlbnt6LWluZGV4OjEwMDttYXgtd2lkdGg6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZX0ubG9hZGVye2NvbG9yOmdyYXk7bWFyZ2luOmF1dG87Zm9udC1zaXplOjQ1cHg7dG9wOmNhbGMoNTAlIC0gNDVweCk7dGV4dC1pbmRlbnQ6LTk5OTllbTtvdmVyZmxvdzpoaWRkZW47d2lkdGg6MWVtO2hlaWdodDoxZW07Ym9yZGVyLXJhZGl1czo1MCU7cG9zaXRpb246cmVsYXRpdmU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKTstd2Via2l0LWFuaW1hdGlvbjoxLjdzIGluZmluaXRlIGxvYWQ2LDEuN3MgaW5maW5pdGUgcm91bmQ7YW5pbWF0aW9uOjEuN3MgaW5maW5pdGUgbG9hZDYsMS43cyBpbmZpbml0ZSByb3VuZH1ALXdlYmtpdC1rZXlmcmFtZXMgbG9hZDZ7MCUsMTAwJSw1JSw5NSV7Ym94LXNoYWRvdzowIC0uODNlbSAwIC0uNGVtLDAgLS44M2VtIDAgLS40MmVtLDAgLS44M2VtIDAgLS40NGVtLDAgLS44M2VtIDAgLS40NmVtLDAgLS44M2VtIDAgLS40NzdlbX0xMCUsNTkle2JveC1zaGFkb3c6MCAtLjgzZW0gMCAtLjRlbSwtLjA4N2VtIC0uODI1ZW0gMCAtLjQyZW0sLS4xNzNlbSAtLjgxMmVtIDAgLS40NGVtLC0uMjU2ZW0gLS43ODllbSAwIC0uNDZlbSwtLjI5N2VtIC0uNzc1ZW0gMCAtLjQ3N2VtfTIwJXtib3gtc2hhZG93OjAgLS44M2VtIDAgLS40ZW0sLS4zMzhlbSAtLjc1OGVtIDAgLS40MmVtLC0uNTU1ZW0gLS42MTdlbSAwIC0uNDRlbSwtLjY3MWVtIC0uNDg4ZW0gMCAtLjQ2ZW0sLS43NDllbSAtLjM0ZW0gMCAtLjQ3N2VtfTM4JXtib3gtc2hhZG93OjAgLS44M2VtIDAgLS40ZW0sLS4zNzdlbSAtLjc0ZW0gMCAtLjQyZW0sLS42NDVlbSAtLjUyMmVtIDAgLS40NGVtLC0uNzc1ZW0gLS4yOTdlbSAwIC0uNDZlbSwtLjgyZW0gLS4wOWVtIDAgLS40NzdlbX19QGtleWZyYW1lcyBsb2FkNnswJSwxMDAlLDUlLDk1JXtib3gtc2hhZG93OjAgLS44M2VtIDAgLS40ZW0sMCAtLjgzZW0gMCAtLjQyZW0sMCAtLjgzZW0gMCAtLjQ0ZW0sMCAtLjgzZW0gMCAtLjQ2ZW0sMCAtLjgzZW0gMCAtLjQ3N2VtfTEwJSw1OSV7Ym94LXNoYWRvdzowIC0uODNlbSAwIC0uNGVtLC0uMDg3ZW0gLS44MjVlbSAwIC0uNDJlbSwtLjE3M2VtIC0uODEyZW0gMCAtLjQ0ZW0sLS4yNTZlbSAtLjc4OWVtIDAgLS40NmVtLC0uMjk3ZW0gLS43NzVlbSAwIC0uNDc3ZW19MjAle2JveC1zaGFkb3c6MCAtLjgzZW0gMCAtLjRlbSwtLjMzOGVtIC0uNzU4ZW0gMCAtLjQyZW0sLS41NTVlbSAtLjYxN2VtIDAgLS40NGVtLC0uNjcxZW0gLS40ODhlbSAwIC0uNDZlbSwtLjc0OWVtIC0uMzRlbSAwIC0uNDc3ZW19Mzgle2JveC1zaGFkb3c6MCAtLjgzZW0gMCAtLjRlbSwtLjM3N2VtIC0uNzRlbSAwIC0uNDJlbSwtLjY0NWVtIC0uNTIyZW0gMCAtLjQ0ZW0sLS43NzVlbSAtLjI5N2VtIDAgLS40NmVtLC0uODJlbSAtLjA5ZW0gMCAtLjQ3N2VtfX1ALXdlYmtpdC1rZXlmcmFtZXMgcm91bmR7MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDApO3RyYW5zZm9ybTpyb3RhdGUoMCl9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgcm91bmR7MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDApO3RyYW5zZm9ybTpyb3RhdGUoMCl9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fWBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyQ29udGVudEluaXQsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XHJcbiAgQElucHV0KCkgd2lkZ2V0OiBXaWRnZXQ7XHJcbiAgQE91dHB1dCgpIHdpZGdldE1vdmluZyA9IG5ldyBFdmVudEVtaXR0ZXI8V2lkZ2V0Q29tcG9uZW50PigpO1xyXG4gIEBPdXRwdXQoKSB3aWRnZXREcm9wcGVkID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xyXG4gIEBPdXRwdXQoKSB3aWRnZXRIb3ZlcmVkID0gbmV3IEV2ZW50RW1pdHRlcjxXaWRnZXRDb21wb25lbnQ+KCk7XHJcbiAgQE91dHB1dCgpIHdpZGdldFVuaG92ZXJlZCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcclxuICBAT3V0cHV0KCkgcmVzaXplU3RhcnRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8V2lkZ2V0Q29tcG9uZW50PigpO1xyXG4gIEBPdXRwdXQoKSBjbG9zZSA9IG5ldyBFdmVudEVtaXR0ZXI8V2lkZ2V0PigpO1xyXG4gIEBPdXRwdXQoKSBmdWxsc2NyZWVuID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xyXG5cclxuICAvLyBBbGwgc3Vic2NyaXB0aW9ucyBtdXN0IGJlIGNsZWFuZWQgdXAgdG8gcHJldmVudCBsZWFrcy5cclxuICBwcml2YXRlIG1vdXNlTW92ZVN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xyXG4gIHByaXZhdGUgbW91c2VVcFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xyXG4gIHByaXZhdGUgdG91Y2hNb3ZlU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XHJcbiAgcHJpdmF0ZSB0b3VjaEVuZFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xyXG5cclxuICBwcml2YXRlIG1vdmVTdGFydFBvc2l0aW9uOiBJQ29vcmRpbmF0ZXM7XHJcbiAgcHJpdmF0ZSBpbml0aWFsUG9zaXRpb246IElDb29yZGluYXRlcztcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBASW5qZWN0KERPQ1VNRU5UKSBwcml2YXRlIGRvY3VtZW50LFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxyXG4gICAgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsXHJcbiAgICBwcml2YXRlIGJvb3RzdHJhcFNlcnZpY2U6IEJvb3RzdHJhcFNlcnZpY2UpIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpIHsgfVxyXG5cclxuICBwcml2YXRlIGdldFVzZXJQb3NpdGlvbihlKTogSUNvb3JkaW5hdGVzIHtcclxuICAgIHJldHVybiBlLmNoYW5nZWRUb3VjaGVzID9cclxuICAgICAge1xyXG4gICAgICAgIHg6IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgsXHJcbiAgICAgICAgeTogZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWVxyXG4gICAgICB9IDoge1xyXG4gICAgICAgIHg6IGUucGFnZVgsXHJcbiAgICAgICAgeTogZS5wYWdlWVxyXG4gICAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBub3RNb2RpZmlhYmxlKCkge1xyXG4gICAgaWYgKHRoaXMud2lkZ2V0LmlzRnVsbFNjcmVlbikge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgbm90R3JhYmJhYmxlKGUpIHtcclxuICAgIGlmICh0aGlzLm5vdE1vZGlmaWFibGUoKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICghZSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcclxuICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25vdC1ncmFiYmFibGUnKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLm5vdC1ncmFiYmFibGUnKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RhcnRNb3ZlKGUpIHtcclxuICAgIHRoaXMud2lkZ2V0TW92aW5nLmVtaXQodGhpcyk7XHJcblxyXG4gICAgY29uc3QgdGhpc0VsZW1lbnQgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcclxuXHJcbiAgICAvLyBXZSdsbCByZXNldCB0aGUgc3R5bGUgd2hlbiB3ZSBjYWxsIGVuZE1vdmUuXHJcbiAgICB0aGlzLmluaXRpYWxQb3NpdGlvbiA9IHtcclxuICAgICAgeTogdGhpc0VsZW1lbnQuc3R5bGUudG9wLFxyXG4gICAgICB4OiB0aGlzRWxlbWVudC5zdHlsZS5sZWZ0XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIE1ha2UgdGhlIGRyYWdnaW5nIHdpZGdldCBmb2xsb3cgdGhlIHVzZXIncyBtb3ZlbWVudC5cclxuICAgIGNvbnN0IHVzZXJQb3NpdGlvbiA9IHRoaXMuZ2V0VXNlclBvc2l0aW9uKGUpO1xyXG4gICAgdGhpcy5tb3ZlU3RhcnRQb3NpdGlvbiA9IHtcclxuICAgICAgeDogZS50b3VjaGVzID9cclxuICAgICAgICBlLnRvdWNoZXNbMF0ucGFnZVggLSB0aGlzRWxlbWVudC5vZmZzZXRMZWZ0IDpcclxuICAgICAgICBlLnBhZ2VYIC0gdGhpc0VsZW1lbnQub2Zmc2V0TGVmdCxcclxuICAgICAgeTogZS50b3VjaGVzID9cclxuICAgICAgICBlLnRvdWNoZXNbMF0ucGFnZVkgLSB0aGlzRWxlbWVudC5vZmZzZXRUb3AgOlxyXG4gICAgICAgIGUucGFnZVkgLSB0aGlzRWxlbWVudC5vZmZzZXRUb3BcclxuICAgIH07XHJcbiAgICB0aGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gKHVzZXJQb3NpdGlvbi54IC0gdGhpcy5tb3ZlU3RhcnRQb3NpdGlvbi54KSArICdweCc7XHJcbiAgICB0aGlzRWxlbWVudC5zdHlsZS50b3AgPSAodXNlclBvc2l0aW9uLnkgLSB0aGlzLm1vdmVTdGFydFBvc2l0aW9uLnkpICsgJ3B4JztcclxuXHJcbiAgICB0aGlzRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtb3Zpbmctd2lkZ2V0Jyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vdmUoZSkge1xyXG4gICAgLy8gTWFrZSB0aGUgd2lkZ2V0IGZvbGxvdyB0aGUgdXNlcidzIG1vdmVtZW50LlxyXG4gICAgY29uc3QgdXNlclBvc2l0aW9uID0gdGhpcy5nZXRVc2VyUG9zaXRpb24oZSk7XHJcbiAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zdHlsZS5sZWZ0ID0gKHVzZXJQb3NpdGlvbi54IC0gdGhpcy5tb3ZlU3RhcnRQb3NpdGlvbi54KSArICdweCc7XHJcbiAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zdHlsZS50b3AgPSAodXNlclBvc2l0aW9uLnkgLSB0aGlzLm1vdmVTdGFydFBvc2l0aW9uLnkpICsgJ3B4JztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZW5kTW92ZSgpIHtcclxuICAgIHRoaXMud2lkZ2V0RHJvcHBlZC5lbWl0KCk7XHJcbiAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdtb3Zpbmctd2lkZ2V0Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zdHlsZS50b3AgPSB0aGlzLmluaXRpYWxQb3NpdGlvbi55O1xyXG4gICAgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuc3R5bGUubGVmdCA9IHRoaXMuaW5pdGlhbFBvc2l0aW9uLng7XHJcbiAgfVxyXG5cclxuICBnZXRIZWlnaHRJbmZvcm1hdGlvbigpOiBhbnkge1xyXG4gICAgY29uc3QgcmVjdCA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50XHJcbiAgICAgIC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXHJcbiAgICAgIHRvcDogcmVjdC50b3BcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBvbldpZGdldE1vdXNlRG93bihlKSB7XHJcbiAgICBpZiAodGhpcy5ub3RHcmFiYmFibGUoZSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdGFydE1vdmUoZSk7XHJcbiAgICAvLyBNYWtlIHN1cmUgdGhlc2Ugb2JzZXJ2ZXJzIGFyZSByZW1vdmVkIGluIGVuZE1vdmUuXHJcbiAgICB0aGlzLm1vdXNlTW92ZVN1YnNjcmlwdGlvbiA9XHJcbiAgICAgIE9ic2VydmFibGUuZnJvbUV2ZW50KHRoaXMuZG9jdW1lbnQsICdtb3VzZW1vdmUnKVxyXG4gICAgICAgIC5zdWJzY3JpYmUoZXZlbnQgPT4ge1xyXG4gICAgICAgICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlKGV2ZW50KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgdGhpcy5tb3VzZVVwU3Vic2NyaXB0aW9uID1cclxuICAgICAgT2JzZXJ2YWJsZS5mcm9tRXZlbnQodGhpcy5kb2N1bWVudCwgJ21vdXNldXAnKVxyXG4gICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5lbmRNb3ZlKCk7XHJcbiAgICAgICAgICBpZiAodGhpcy5tb3VzZU1vdmVTdWJzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZU1vdmVTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0aGlzLm1vdXNlVXBTdWJzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVVwU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBvbldpZGdldFRvdWNoU3RhcnQoZSkge1xyXG4gICAgaWYgKHRoaXMubm90R3JhYmJhYmxlKGUpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuc3RhcnRNb3ZlKGUpO1xyXG4gICAgLy8gTWFrZSBzdXJlIHRoZXNlIG9ic2VydmVycyBhcmUgcmVtb3ZlZCBpbiBlbmRNb3ZlLlxyXG4gICAgdGhpcy50b3VjaE1vdmVTdWJzY3JpcHRpb24gPVxyXG4gICAgICBPYnNlcnZhYmxlLmZyb21FdmVudCh0aGlzLmRvY3VtZW50LCAndG91Y2htb3ZlJylcclxuICAgICAgICAuc3Vic2NyaWJlKGV2ZW50ID0+IHtcclxuICAgICAgICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZShldmVudCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIHRoaXMudG91Y2hFbmRTdWJzY3JpcHRpb24gPVxyXG4gICAgICBPYnNlcnZhYmxlLmZyb21FdmVudCh0aGlzLmRvY3VtZW50LCAndG91Y2hlbmQnKVxyXG4gICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5lbmRNb3ZlKCk7XHJcbiAgICAgICAgICBpZiAodGhpcy50b3VjaE1vdmVTdWJzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy50b3VjaE1vdmVTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0aGlzLnRvdWNoRW5kU3Vic2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hFbmRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICB9XHJcblxyXG4gIG9uV2lkZ2V0TW91c2VFbnRlcigpIHtcclxuICAgIHRoaXMud2lkZ2V0SG92ZXJlZC5lbWl0KHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb25XaWRnZXRUb3VjaEVudGVyKCkge1xyXG4gICAgdGhpcy53aWRnZXRIb3ZlcmVkLmVtaXQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvbldpZGdldE1vdXNlTGVhdmUoKSB7XHJcbiAgICB0aGlzLndpZGdldFVuaG92ZXJlZC5lbWl0KCk7XHJcbiAgfVxyXG5cclxuICBvbldpZGdldFRvdWNoTGVhdmUoKSB7XHJcbiAgICB0aGlzLndpZGdldFVuaG92ZXJlZC5lbWl0KCk7XHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZXJNb3VzZURvd24oKSB7XHJcbiAgICBpZiAodGhpcy5ub3RNb2RpZmlhYmxlKCkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlc2l6ZVN0YXJ0ZWQuZW1pdCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9uUmVzaXplclRvdWNoU3RhcnQoKSB7XHJcbiAgICBpZiAodGhpcy5ub3RNb2RpZmlhYmxlKCkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlc2l6ZVN0YXJ0ZWQuZW1pdCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9uQ2xvc2VDbGljaygpIHtcclxuICAgIHRoaXMuY2xvc2UuZW1pdCh0aGlzLndpZGdldCk7XHJcbiAgfVxyXG5cclxuICBvblRvZ2dsZUZ1bGxTY3JlZW5DbGljaygpIHtcclxuICAgIHRoaXMud2lkZ2V0LnRvZ2dsZUZ1bGxTY3JlZW4oKTtcclxuICAgIGNvbnN0IHRoaXNFbGVtZW50ID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICBpZiAodGhpcy53aWRnZXQuaXNGdWxsU2NyZWVuKSB7XHJcbiAgICAgIHRoaXNFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Z1bGxzY3JlZW4nKTtcclxuICAgICAgLy8gSSB3b3VsZCBwcmVmZXIgdG8gdXNlIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLCBidXQgaXQgaXMgYnJva2VuIG9uXHJcbiAgICAgIC8vIGNob21lL3dlYmtpdCBhbmQgYWx3YXlzIHJldHVybnMgMC5cclxuICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTU3ODU1XHJcbiAgICAgIHRoaXNFbGVtZW50LnN0eWxlLnRvcCA9ICgxNSArIHdpbmRvdy5zY3JvbGxZKSArICdweCc7XHJcbiAgICAgIHRoaXNFbGVtZW50LnN0eWxlLmJvdHRvbSA9ICgxNSAtIHdpbmRvdy5zY3JvbGxZKSArICdweCc7XHJcbiAgICAgIHRoaXNFbGVtZW50LnN0eWxlLmxlZnQgPSAoMCArIHdpbmRvdy5zY3JvbGxYKSArICdweCc7XHJcbiAgICAgIHRoaXNFbGVtZW50LnN0eWxlLnJpZ2h0ID0gKDAgLSB3aW5kb3cuc2Nyb2xsWCkgKyAncHgnO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXNFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Z1bGxzY3JlZW4nKTtcclxuICAgICAgdGhpc0VsZW1lbnQuc3R5bGUudG9wID0gbnVsbDtcclxuICAgICAgdGhpc0VsZW1lbnQuc3R5bGUuYm90dG9tID0gbnVsbDtcclxuICAgICAgdGhpc0VsZW1lbnQuc3R5bGUubGVmdCA9IG51bGw7XHJcbiAgICAgIHRoaXNFbGVtZW50LnN0eWxlLnJpZ2h0ID0gbnVsbDtcclxuICAgIH1cclxuICAgIHRoaXMuZnVsbHNjcmVlbi5lbWl0KCk7XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd3aWRnZXQnKTtcclxuICAgIGNvbnN0IGNsYXNzZXM6IHN0cmluZ1tdID0gdGhpcy5ib290c3RyYXBTZXJ2aWNlLmdldENsYXNzZXModGhpcy53aWRnZXQpO1xyXG4gICAgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKTtcclxuICAgIGlmICh0aGlzLndpZGdldC5pc0hpZGRlbikge1xyXG4gICAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKSB7XHJcbiAgICAvLyBJZiB0aGUgd2lkZ2V0IGlzIGFsc28gQW5ndWxhciAyKywgaXQncyBib290c3RyYXBwaW5nIHdpbGwgY2F1c2UgWm9uZSBlcnJvcnNcclxuICAgIC8vIGluIHRoZSBjb25zb2xlIGJlY2F1c2UgWm9uZSBpcyBsb2FkZWQgYXMgYSBzaW5nbGV0b24uIEZ1bi4gUnVuIG91dHNpZGUgQW5ndWxhci5cclxuICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcclxuICAgICAgdGhpcy53aWRnZXQucmVuZGVyKGNvbnRhaW5lcilcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIHNwaW5uZXIuXHJcbiAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW5bMF0ucmVtb3ZlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICBpZiAodGhpcy5tb3VzZU1vdmVTdWJzY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy5tb3VzZU1vdmVTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm1vdXNlVXBTdWJzY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy5tb3VzZVVwU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy50b3VjaE1vdmVTdWJzY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy50b3VjaE1vdmVTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnRvdWNoRW5kU3Vic2NyaXB0aW9uKSB7XHJcbiAgICAgIHRoaXMudG91Y2hFbmRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgRWxlbWVudFJlZiwgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJWaWV3SW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBXaWRnZXQgfSBmcm9tICcuLi93aWRnZXQubW9kZWwnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtd2lkZ2V0LWNvbnRyb2xzJyxcclxuICB0ZW1wbGF0ZTogYDxkaXY+XHJcbiAgPGRpdiBjbGFzcz0ndGl0bGUnPnt7d2lkZ2V0LnRpdGxlfX08L2Rpdj5cclxuICA8ZGl2ICpuZ0lmPSchd2lkZ2V0LmlzRnVsbFNjcmVlbjsgZWxzZSBmdWxsc2NyZWVuJyBjbGFzcz0nYnV0dG9ucyBuby1oaWdobGlnaHRpbmcgbm90LWdyYWJiYWJsZSc+XHJcbiAgICA8c3BhbiAqbmdJZj0nd2lkZ2V0LmlzRXhwYW5kZWQ7IGVsc2UgZXhwYW5kJyBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnIChjbGljayk9J29uQ29sbGFwc2VDbGljaygpJz5leHBhbmRfbGVzczwvc3Bhbj5cclxuICAgIDxuZy10ZW1wbGF0ZSAjZXhwYW5kPlxyXG4gICAgICA8c3BhbiBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnIChjbGljayk9J29uRXhwYW5kQ2xpY2soKSc+ZXhwYW5kX21vcmU8L3NwYW4+XHJcbiAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgPHNwYW4gY2xhc3M9J21hdGVyaWFsLWljb25zIGQtbm9uZSBkLXNtLWlubGluZScgKGNsaWNrKT0nb25Ub2dnbGVGdWxsU2NyZWVuQ2xpY2soKSc+ZnVsbHNjcmVlbjwvc3Bhbj5cclxuICAgIDxzcGFuIGNsYXNzPSdtYXRlcmlhbC1pY29ucycgKGNsaWNrKT0nb25DbG9zZUNsaWNrKCknPmNsb3NlPC9zcGFuPlxyXG4gIDwvZGl2PlxyXG4gIDxuZy10ZW1wbGF0ZSAjZnVsbHNjcmVlbj5cclxuICAgIDxkaXYgY2xhc3M9J21hdGVyaWFsLWljb25zIGJ1dHRvbnMgbm8taGlnaGxpZ2h0aW5nIG5vdC1ncmFiYmFibGUnIChjbGljayk9J29uVG9nZ2xlRnVsbFNjcmVlbkNsaWNrKCknPmZ1bGxzY3JlZW5fZXhpdDwvZGl2PlxyXG4gIDwvbmctdGVtcGxhdGU+XHJcbjwvZGl2PmAsXHJcbiAgc3R5bGVzOiBbYDpob3N0e2Rpc3BsYXk6YmxvY2s7Y3Vyc29yOi13ZWJraXQtZ3JhYjtjdXJzb3I6Z3JhYjtvdmVyZmxvdzpoaWRkZW47bWFyZ2luLWJvdHRvbToxNXB4fTpob3N0PmRpdj4udGl0bGV7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVufTpob3N0PmRpdj5kaXY6Zmlyc3Qtb2YtdHlwZXtmbG9hdDpsZWZ0fTpob3N0PmRpdj5kaXY6bGFzdC1vZi10eXBle2Zsb2F0OnJpZ2h0O2N1cnNvcjpkZWZhdWx0fS5mdWxsc2NyZWVuIDpob3N0e2N1cnNvcjpkZWZhdWx0fWBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBXaWRnZXRDb250cm9sc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XHJcbiAgQElucHV0KCkgd2lkZ2V0OiBXaWRnZXQ7XHJcbiAgQE91dHB1dCgpIGNsb3NlID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xyXG4gIEBPdXRwdXQoKSBmdWxsc2NyZWVuID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYpIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcclxuICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NvbC0xMicpO1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgLy8gV2UnbGwgc2V0IHRoZSB3aWR0aCBvZiB0aGUgdGl0bGUgYmFzZWQgb24gdGhlIHdpZHRoIGxlZnQgYnkgdGhlIGJ1dHRvbnMuXHJcbiAgICAvLyBUaGlzIHdpbGwgbWFrZSB0aGUgb3ZlcmZsb3cgb24gdGhlIHRpdGxlIHdvcmsgcHJvcGVybHkuIEJ1dCB3ZSB3b24ndFxyXG4gICAgLy8gZG8gdGhpcyB1bnRpbCB0aGUgc3RhY2sgaXMgZW1wdHkuIFdpdGhvdXQgdGhlIHNldFRpbWUsIHRoZSBmaXJzdCBwYWdlIGxvYWRcclxuICAgIC8vIGFmdGVyIGEgSGFyZCBSZWxvYWQgZG9lcyBub3QgY2FsY3VsYXRlIHRoZSBvZmZzZXRXaWR0aHMgY29ycmVjdGx5LlxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lckVsZW1lbnQgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5jaGlsZHJlblswXTtcclxuICAgICAgY29uc3QgY29udHJvbHNXaWR0aCA9IGNvbnRhaW5lckVsZW1lbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbnNFbGVtZW50ID0gY29udGFpbmVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9ucycpO1xyXG4gICAgICBjb25zdCBidXR0b25zV2lkdGggPSBidXR0b25zRWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgICAgY29uc3QgcGFkZGluZyA9IDg7XHJcbiAgICAgIGNvbnN0IHRpdGxlRWxlbWVudCA9IGNvbnRhaW5lckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnRpdGxlJyk7XHJcbiAgICAgIHRpdGxlRWxlbWVudC5zdHlsZS53aWR0aCA9ICgxMDAgLSBwYWRkaW5nIC0gKGJ1dHRvbnNXaWR0aCAvIGNvbnRyb2xzV2lkdGggKiAxMDApKSArICclJzsgIFxyXG4gICAgfSwgMCk7XHJcbiAgfVxyXG5cclxuICBvbkNvbGxhcHNlQ2xpY2soKSB7XHJcbiAgICB0aGlzLndpZGdldC5jb2xsYXBzZSgpO1xyXG4gIH1cclxuXHJcbiAgb25FeHBhbmRDbGljaygpIHtcclxuICAgIHRoaXMud2lkZ2V0LmV4cGFuZCgpO1xyXG4gIH1cclxuXHJcbiAgb25DbG9zZUNsaWNrKCkge1xyXG4gICAgdGhpcy5jbG9zZS5lbWl0KCk7XHJcbiAgfVxyXG5cclxuICBvblRvZ2dsZUZ1bGxTY3JlZW5DbGljaygpIHtcclxuICAgIHRoaXMuZnVsbHNjcmVlbi5lbWl0KCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIEFmdGVyVmlld0luaXQsIEFmdGVyQ29udGVudEluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTGlicmFyeSB9IGZyb20gJy4uL2xpYnJhcnkubW9kZWwnO1xyXG5pbXBvcnQgeyBXaWRnZXQgfSBmcm9tICcuLi93aWRnZXQubW9kZWwnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtd2lkZ2V0cy1saWJyYXJ5JyxcclxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9J3RpdGxlJz5MaWJyYXJ5PC9kaXY+XHJcbjx1bCBjbGFzcz0nbGlzdC1ncm91cCc+XHJcbiAgPGxpICpuZ0Zvcj0nbGV0IGxpYnJhcnlXaWRnZXQgb2YgbGlicmFyeS53aWRnZXRzJyBjbGFzcz0nbGlzdC1ncm91cC1pdGVtJz5cclxuICAgIDxzcGFuPnt7bGlicmFyeVdpZGdldC53aWRnZXQudGl0bGV9fTwvc3Bhbj5cclxuICAgIDwhLS0gPHNwYW4gKm5nSWY9J2xpYnJhcnlXaWRnZXQuaXNSZW5kZXJlZDsgZWxzZSBub3QnIGNsYXNzPSdtYXRlcmlhbC1pY29ucycgKGNsaWNrKT0nb25SZW1vdmVXaWRnZXQobGlicmFyeVdpZGdldC53aWRnZXQpJz5yZW1vdmVfY2lyY2xlX291dGxpbmU8L3NwYW4+XHJcbiAgICA8bmctdGVtcGxhdGUgI25vdD5cclxuICAgICAgPHNwYW4gY2xhc3M9J21hdGVyaWFsLWljb25zJyAoY2xpY2spPSdvbkFkZFdpZGdldChsaWJyYXJ5V2lkZ2V0LndpZGdldCknPmFkZF9jaXJjbGVfb3V0bGluZTwvc3Bhbj5cclxuICAgIDwvbmctdGVtcGxhdGU+IC0tPlxyXG4gICAgPCEtLSA8ZGl2IGNsYXNzPSdwcmV0dHkgcC1zd2l0Y2ggcC1maWxsJz5cclxuICAgICAgPGlucHV0IGlkPSdsaWJyYXJ5V2lkZ2V0LndpZGdldC5pZCcgdHlwZT0nY2hlY2tib3gnIFtjaGVja2VkXT0nbGlicmFyeVdpZGdldC5pc1JlbmRlcmVkJyAoY2hhbmdlKT0nb25DaGVja2JveENoYW5nZShsaWJyYXJ5V2lkZ2V0KScgLz5cclxuICAgIDwvZGl2PiAtLT5cclxuICAgIDxzcGFuIGNsYXNzPSdwcmV0dHkgcC1zd2l0Y2ggcC1maWxsJz5cclxuICAgICAgPGlucHV0IHR5cGU9J2NoZWNrYm94JyBbY2hlY2tlZF09J2xpYnJhcnlXaWRnZXQuaXNSZW5kZXJlZCcgKGNoYW5nZSk9J29uQ2hlY2tib3hDaGFuZ2UobGlicmFyeVdpZGdldCknIC8+XHJcbiAgICAgIDxkaXYgY2xhc3M9J3N0YXRlIHAtc3VjY2Vzcyc+XHJcbiAgICAgICAgPGxhYmVsPjwvbGFiZWw+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9zcGFuPlxyXG4gIDwvbGk+XHJcbjwvdWw+XHJcbjxkaXYgY2xhc3M9J2J1dHRvbi1jb250YWluZXInPlxyXG4gIDxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgKGNsaWNrKT0nb25Eb25lQ2xpY2soKSc+RG9uZTwvYnV0dG9uPlxyXG48L2Rpdj5gLFxyXG4gIHN0eWxlczogW2A6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMDtiYWNrZ3JvdW5kOiNmZmZ9dWx7bGlzdC1zdHlsZTpub25lO3BhZGRpbmc6MDttYXJnaW4tYm90dG9tOjIwcHh9dWw+bGl7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9dWw+bGk+c3BhbjpmaXJzdC1vZi10eXBle2Zsb2F0OmxlZnQ7bWFyZ2luLXJpZ2h0OjMwcHh9dWw+bGk+c3BhbjpsYXN0LW9mLXR5cGV7ZmxvYXQ6cmlnaHQ7bWFyZ2luLXRvcDo1cHh9bGFiZWw6YWZ0ZXJ7bWFyZ2luLXRvcDotMXB4fS5wcmV0dHkgaW5wdXR7d2lkdGg6MjAwJX1gXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgTGlicmFyeUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XHJcbiAgQElucHV0KCkgbGlicmFyeTogTGlicmFyeTtcclxuICBAT3V0cHV0KCkgZG9uZSA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcclxuICBAT3V0cHV0KCkgcmVuZGVyV2lkZ2V0ID0gbmV3IEV2ZW50RW1pdHRlcjxXaWRnZXQ+KCk7XHJcbiAgQE91dHB1dCgpIGRlcmVuZGVyV2lkZ2V0ID0gbmV3IEV2ZW50RW1pdHRlcjxXaWRnZXQ+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZikgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkgeyB9XHJcblxyXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcclxuICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NhcmQnLCAnY2FyZC1yb3cnLCAncG9wdXAnKTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnRcclxuICAgICAgLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbiAgICAgIC53aWR0aDtcclxuICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnN0eWxlLnRvcCA9ICh0aGlzLmxpYnJhcnkueVBvc2l0aW9uIC0gMjApICsgJ3B4JztcclxuICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnN0eWxlLmxlZnQgPSAodGhpcy5saWJyYXJ5LnhQb3NpdGlvbiAtIHdpZHRoICsgMjApICsgJ3B4JztcclxuICB9XHJcblxyXG4gIG9uRG9uZUNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kb25lLmVtaXQoKTtcclxuICB9XHJcblxyXG4gIG9uQ2hlY2tib3hDaGFuZ2UobGlicmFyeVdpZGdldDogYW55KSB7XHJcbiAgICBpZiAobGlicmFyeVdpZGdldC5pc1JlbmRlcmVkKSB7XHJcbiAgICAgIHRoaXMubGlicmFyeS5kZXJlbmRlcldpZGdldChsaWJyYXJ5V2lkZ2V0LndpZGdldCk7XHJcbiAgICAgIHRoaXMuZGVyZW5kZXJXaWRnZXQuZW1pdChsaWJyYXJ5V2lkZ2V0LndpZGdldCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmxpYnJhcnkucmVuZGVyV2lkZ2V0KGxpYnJhcnlXaWRnZXQud2lkZ2V0KTtcclxuICAgICAgdGhpcy5yZW5kZXJXaWRnZXQuZW1pdChsaWJyYXJ5V2lkZ2V0LndpZGdldCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgRWxlbWVudFJlZiwgQWZ0ZXJDb250ZW50SW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBXaWRnZXQgfSBmcm9tICcuLi93aWRnZXQubW9kZWwnO1xyXG5pbXBvcnQgeyBCb290c3RyYXBTZXJ2aWNlIH0gZnJvbSAnLi4vYm9vdHN0cmFwLnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtd2lkZ2V0LWRyb3AtdGFyZ2V0JyxcclxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9J2NhcmQgY2FyZC1yb3cnPjwvZGl2PmAsXHJcbiAgc3R5bGVzOiBbYDpob3N0PmRpdntiYWNrZ3JvdW5kOiNkM2QzZDM7aGVpZ2h0OjEwMCU7bWFyZ2luOjB9YF1cclxufSlcclxuZXhwb3J0IGNsYXNzIERyb3BUYXJnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyQ29udGVudEluaXQge1xyXG4gIEBJbnB1dCgpIGRyb3BUYXJnZXQ6IFdpZGdldDtcclxuICBASW5wdXQoKSBoZWlnaHQ6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLCBwcml2YXRlIGJvb3RzdHJhcFNlcnZpY2U6IEJvb3RzdHJhcFNlcnZpY2UpIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcclxuICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcclxuICAgIGNvbnN0IGNsYXNzZXM6IHN0cmluZ1tdID0gdGhpcy5ib290c3RyYXBTZXJ2aWNlLmdldENsYXNzZXModGhpcy5kcm9wVGFyZ2V0KTtcclxuICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIEVsZW1lbnRSZWYsIEFmdGVyQ29udGVudEluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQm9vdHN0cmFwU2VydmljZSB9IGZyb20gJy4uL2Jvb3RzdHJhcC5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnYXBwLXdpZGdldC1yZXNpemUtZ3VpZGVsaW5lJyxcclxuICB0ZW1wbGF0ZTogYDxkaXYgKG1vdXNlZW50ZXIpPSdvbkhvdmVyKCknICh0b3VjaGVudGVyKT0nb25Ib3ZlcigpJz48L2Rpdj5gLFxyXG4gIHN0eWxlczogW2A6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZX06aG9zdD5kaXZ7Ym9yZGVyLXJpZ2h0OjFweCBkb3R0ZWQgZ3JlZW47aGVpZ2h0OjEwMCV9YF1cclxufSlcclxuZXhwb3J0IGNsYXNzIFJlc2l6ZUd1aWRlbGluZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJDb250ZW50SW5pdCB7XHJcbiAgQElucHV0KCkgZ3VpZGVsaW5lOiBhbnk7XHJcbiAgQE91dHB1dCgpIHJlc2l6ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLCBwcml2YXRlIGJvb3RzdHJhcFNlcnZpY2U6IEJvb3RzdHJhcFNlcnZpY2UpIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpOiB2b2lkIHsgfVxyXG5cclxuICBuZ0FmdGVyQ29udGVudEluaXQoKTogdm9pZCB7XHJcbiAgICBjb25zdCB0aGlzRWxlbWVudCA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xyXG4gICAgdGhpc0VsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmJvb3RzdHJhcFNlcnZpY2UuY29sdW1uUHJlZml4ICsgdGhpcy5ndWlkZWxpbmUud2lkdGhPZkd1aWRlbGluZSk7XHJcbiAgICB0aGlzRWxlbWVudC5zdHlsZS50b3AgPSAodGhpcy5ndWlkZWxpbmUudG9wICsgd2luZG93LnNjcm9sbFkpICsgJ3B4JztcclxuICAgIHRoaXNFbGVtZW50LnN0eWxlLmhlaWdodCA9IHRoaXMuZ3VpZGVsaW5lLmhlaWdodCArICdweCc7XHJcbiAgfVxyXG5cclxuICBvbkhvdmVyKCk6IHZvaWQge1xyXG4gICAgY29uc3Qgd2lkZ2V0ID0gdGhpcy5ndWlkZWxpbmUud2lkZ2V0O1xyXG4gICAgaWYgKHRoaXMuZ3VpZGVsaW5lLnRhcmdldFdpZHRoT2ZXaWRnZXQgIT09IHRoaXMuYm9vdHN0cmFwU2VydmljZS5nZXRXaWR0aCh3aWRnZXQuZ2V0Q3VycmVudFdpZHRoLmJpbmQod2lkZ2V0KSkpIHtcclxuICAgICAgdGhpcy5ib290c3RyYXBTZXJ2aWNlLnJlc2l6ZSh0aGlzLmd1aWRlbGluZS53aWRnZXQsIHRoaXMuZ3VpZGVsaW5lLnRhcmdldFdpZHRoT2ZXaWRnZXQpO1xyXG4gICAgICB0aGlzLnJlc2l6ZWQuZW1pdCh0aGlzLmd1aWRlbGluZS53aWRnZXQpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBFbGVtZW50UmVmLCBBZnRlclZpZXdJbml0LCBBZnRlckNvbnRlbnRJbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IExheW91dEVkaXRvciB9IGZyb20gJy4uL2xheW91dC1lZGl0b3IubW9kZWwnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtd2lkZ2V0cy1sYXlvdXQtZWRpdG9yJyxcclxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9J3RpdGxlJz5MYXlvdXQgRWRpdG9yPC9kaXY+XHJcbjxwPlxyXG4gIDxiPkNvbWluZyBTb29uITwvYj5cclxuPC9wPlxyXG48cD5cclxuICBUaGlzIHdpbGwgYWxsb3cgc29tZSB1c2VycyB0byBlZGl0IHBhZ2VzIGFuZCBtYWtlIGN1c3RvbSBsYXlvdXRzIHRhcmdldGVkIGZvciBzcGVjaWZpYyByb2xlcyBpbiB5b3VyIG9yZ2FuaXphdGlvbi5cclxuPC9wPlxyXG48cD5cclxuICBGb3Igbm93LCBjaGFuZ2VzIG1hZGUgd2lsbCBub3QgYmUgc2F2ZWQuXHJcbjwvcD5cclxuPGRpdiBjbGFzcz0nYnV0dG9uLWNvbnRhaW5lcic+XHJcbiAgPGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1wcmltYXJ5JyAoY2xpY2spPSdvbkRvbmVDbGljaygpJz5Eb25lPC9idXR0b24+XHJcbjwvZGl2PmAsXHJcbiAgc3R5bGVzOiBbYDpob3N0e3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTAwO2JhY2tncm91bmQ6I2ZmZn1gXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgTGF5b3V0RWRpdG9yQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlckNvbnRlbnRJbml0LCBBZnRlclZpZXdJbml0IHtcclxuICBASW5wdXQoKSBsYXlvdXRFZGl0b3I6IExheW91dEVkaXRvcjtcclxuICBAT3V0cHV0KCkgZG9uZSA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmKSB7IH1cclxuXHJcbiAgbmdPbkluaXQoKSB7IH1cclxuXHJcbiAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xyXG4gICAgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2FyZCcsICdjYXJkLXJvdycsICdjb2wtOCcsICdjb2wtc20tNicsICdwb3B1cCcpO1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudFxyXG4gICAgICAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgICAgLndpZHRoO1xyXG4gICAgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuc3R5bGUudG9wID0gKHRoaXMubGF5b3V0RWRpdG9yLnlQb3NpdGlvbiAtIDIwKSArICdweCc7XHJcbiAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zdHlsZS5sZWZ0ID0gKHRoaXMubGF5b3V0RWRpdG9yLnhQb3NpdGlvbiAtIHdpZHRoICsgMjApICsgJ3B4JztcclxuICB9XHJcblxyXG4gIG9uRG9uZUNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kb25lLmVtaXQoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQnJvd3Nlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xyXG5pbXBvcnQgeyBOZ01vZHVsZSwgTW9kdWxlV2l0aFByb3ZpZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgQm9vdHN0cmFwU2VydmljZSB9IGZyb20gJy4vd2lkZ2V0cy9ib290c3RyYXAuc2VydmljZSc7XHJcblxyXG5pbXBvcnQgeyBEYXNoYm9hcmRDb21wb25lbnQgfSBmcm9tICcuL2Rhc2hib2FyZC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vd2lkZ2V0cy9wYW5lbC9wYW5lbC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBQYW5lbENvbnRyb2xzQ29tcG9uZW50IH0gZnJvbSAnLi93aWRnZXRzL3BhbmVsLWNvbnRyb2xzL3BhbmVsLWNvbnRyb2xzLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFNwYWNlckNvbXBvbmVudCB9IGZyb20gJy4vd2lkZ2V0cy9zcGFjZXIvc3BhY2VyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFdpZGdldENvbXBvbmVudCB9IGZyb20gJy4vd2lkZ2V0cy93aWRnZXQvd2lkZ2V0LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFdpZGdldENvbnRyb2xzQ29tcG9uZW50IH0gZnJvbSAnLi93aWRnZXRzL3dpZGdldC1jb250cm9scy93aWRnZXQtY29udHJvbHMuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTGlicmFyeUNvbXBvbmVudCB9IGZyb20gJy4vd2lkZ2V0cy9saWJyYXJ5L2xpYnJhcnkuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRHJvcFRhcmdldENvbXBvbmVudCB9IGZyb20gJy4vd2lkZ2V0cy9kcm9wLXRhcmdldC9kcm9wLXRhcmdldC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBSZXNpemVHdWlkZWxpbmVDb21wb25lbnQgfSBmcm9tICcuL3dpZGdldHMvcmVzaXplLWd1aWRlbGluZS9yZXNpemUtZ3VpZGVsaW5lLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IExheW91dEVkaXRvckNvbXBvbmVudCB9IGZyb20gJy4vd2lkZ2V0cy9sYXlvdXQtZWRpdG9yL2xheW91dC1lZGl0b3IuY29tcG9uZW50JztcclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBEYXNoYm9hcmRDb21wb25lbnQsXHJcbiAgICBQYW5lbENvbXBvbmVudCxcclxuICAgIFNwYWNlckNvbXBvbmVudCxcclxuICAgIFBhbmVsQ29udHJvbHNDb21wb25lbnQsXHJcbiAgICBXaWRnZXRDb21wb25lbnQsXHJcbiAgICBXaWRnZXRDb250cm9sc0NvbXBvbmVudCxcclxuICAgIExpYnJhcnlDb21wb25lbnQsXHJcbiAgICBEcm9wVGFyZ2V0Q29tcG9uZW50LFxyXG4gICAgUmVzaXplR3VpZGVsaW5lQ29tcG9uZW50LFxyXG4gICAgTGF5b3V0RWRpdG9yQ29tcG9uZW50XHJcbiAgXSxcclxuICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV0sXHJcbiAgZXhwb3J0czogW1xyXG4gICAgRGFzaGJvYXJkQ29tcG9uZW50LFxyXG4gICAgUGFuZWxDb21wb25lbnQsXHJcbiAgICBTcGFjZXJDb21wb25lbnQsXHJcbiAgICBQYW5lbENvbnRyb2xzQ29tcG9uZW50LFxyXG4gICAgV2lkZ2V0Q29tcG9uZW50LFxyXG4gICAgV2lkZ2V0Q29udHJvbHNDb21wb25lbnQsXHJcbiAgICBMaWJyYXJ5Q29tcG9uZW50LFxyXG4gICAgRHJvcFRhcmdldENvbXBvbmVudCxcclxuICAgIFJlc2l6ZUd1aWRlbGluZUNvbXBvbmVudCxcclxuICAgIExheW91dEVkaXRvckNvbXBvbmVudFxyXG4gIF0sXHJcbiAgcHJvdmlkZXJzOiBbQm9vdHN0cmFwU2VydmljZV0sXHJcbiAgYm9vdHN0cmFwOiBbRGFzaGJvYXJkQ29tcG9uZW50XVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRGFzaGJvYXJkTW9kdWxlIHtcclxuICBzdGF0aWMgZm9yUm9vdChXaWRnZXRzU2VydmljZSk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmdNb2R1bGU6IERhc2hib2FyZE1vZHVsZSxcclxuICAgICAgcHJvdmlkZXJzOiBbXHJcbiAgICAgICAgeyBwcm92aWRlOiAnd2lkZ2V0c1NlcnZpY2UnLCB1c2VDbGFzczogV2lkZ2V0c1NlcnZpY2UgfVxyXG4gICAgICBdXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0lBa0JFOzBCQWJzQixFQUFFOzRCQUNBLE1BQU07MkJBR0M7WUFDN0IsRUFBRSxFQUFFLFdBQVc7WUFDZixFQUFFLEVBQUUsV0FBVztZQUNmLEVBQUUsRUFBRSxXQUFXO1lBQ2YsRUFBRSxFQUFFLFdBQVc7WUFDZixFQUFFLEVBQUUsUUFBUTtTQUNiO0tBR2dCOzs7O0lBS1QsK0NBQW9COzs7O1FBQzFCLHFCQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFFcEIscUJBQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0MsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsUUFBUSxDQUFDO1FBQ25DLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xDLHFCQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUVyRCxLQUFLLHFCQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGNB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