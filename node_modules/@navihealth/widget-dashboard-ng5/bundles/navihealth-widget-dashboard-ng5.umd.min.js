!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs/Observable"),require("rxjs/add/observable/of"),require("rxjs/add/operator/delay"),require("rxjs/add/observable/fromEvent"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@navihealth/widget-dashboard-ng5",["exports","@angular/core","@angular/common","rxjs/Observable","rxjs/add/observable/of","rxjs/add/operator/delay","rxjs/add/observable/fromEvent","@angular/platform-browser"],t):t((e.navihealth=e.navihealth||{},e.navihealth["widget-dashboard-ng5"]={}),e.ng.core,e.ng.common,e.rxjs.Observable,e.rxjs["add/observable/of"],e.rxjs["add/operator/delay"],e.rxjs["add/observable/fromEvent"],e.ng.platformBrowser)}(this,function(e,o,t,i,n,r,s,a){"use strict";var d=function(){function e(){this.maxColumns=12,this.columnPrefix="col-",this.breakpoints={xl:"d-xl-none",lg:"d-lg-none",md:"d-md-none",sm:"d-sm-none",xs:"d-none"}}return e.prototype.getCurrentBreakpoint=function(){var e="",t=document.createElement("div");t.style.visibility="hidden",document.body.appendChild(t);for(var i=Object.keys(this.breakpoints),n=0;n<i.length;n++){if(e=i[n],t.classList.add(this.breakpoints[e]),"none"===window.getComputedStyle(t).display)break}return t.remove(),e},e.prototype.hasBreakpointChanged=function(){var e=this.getCurrentBreakpoint();return e!==this.currentBreakpoint&&(this.currentBreakpoint=e,!0)},e.prototype.getWidth=function(e){var t=this.getCurrentBreakpoint(),i=e(t);if(!i)for(var n=this.getSmallerBreakpoints(t);!i&&n.length;)i=e(t=n.shift());return i},e.prototype.makeFullWidth=function(t){var i=this,e=this.getCurrentBreakpoint();this.getSmallerBreakpoints(e).concat([e]).forEach(function(e){t(e,i.maxColumns)})},e.prototype.resize=function(e,t){var i=this.getCurrentBreakpoint(),n=e.getCurrentWidth(i);if(!n)for(var o=this.getSmallerBreakpoints(i);!n&&o.length;)i=o.shift(),n=e.getCurrentWidth(i);e.resize(i,t)},e.prototype.getClasses=function(e){var i=e.getCurrentWidths();return Object.keys(i).map(function(e){var t=i[e];return"xs"===e?"col-"+t:"col-"+e+"-"+t})},e.prototype.getSmallerBreakpoints=function(e){var t=Object.keys(this.breakpoints);return t.slice(t.indexOf(e)+1,t.length)},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}(),p=function(){function e(){}return e.decorators=[{type:o.Component,args:[{selector:"app-dashboard",template:"<app-widgets-panel class='row'></app-widgets-panel>",styles:[""]}]}],e}(),l=function(){function e(e){this.elementRef=e,this.spacerHovered=new o.EventEmitter,this.spacerUnhovered=new o.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){this.elementRef.nativeElement.classList.add("col-12")},e.prototype.onMouseEnter=function(){this.spacerHovered.emit(this)},e.prototype.onTouchEnter=function(){this.spacerHovered.emit(this)},e.prototype.onMouseLeave=function(){this.spacerUnhovered.emit()},e.prototype.onTouchLeave=function(){this.spacerUnhovered.emit()},e.decorators=[{type:o.Component,args:[{selector:"app-widgets-panel-spacer",template:"<div (mouseenter)='onMouseEnter()' (touchenter)='onTouchEnter()' (mouseleave)='onMouseLeave()' (touchleave)='onTouchLeave()'>\n</div>",styles:[":host{height:30px}:host>div{height:100%}"]}]}],e.ctorParameters=function(){return[{type:o.ElementRef}]},e.propDecorators={spacer:[{type:o.Input}],spacerHovered:[{type:o.Output}],spacerUnhovered:[{type:o.Output}]},e}(),c=function(){function e(e,t){this.renderedWidgets=e,this.availableWidgets=t,this.isDisplayed=!1,this.buildLibrary()}return e.prototype.isWidgetRendered=function(e){return 0<=this.renderedWidgets.map(function(e){return e.id}).indexOf(e.id)},e.prototype.buildLibrary=function(){var t=this;this.widgets=this.availableWidgets.map(function(e){return{isRendered:t.isWidgetRendered(e),widget:e}})},e.prototype.edit=function(e,t){this.isDisplayed=!0,this.xPosition=e,this.yPosition=t},e.prototype.hide=function(){this.isDisplayed=!1,this.xPosition=null,this.yPosition=null},e.prototype.renderWidget=function(e){this.renderedWidgets.push(e),this.buildLibrary()},e.prototype.derenderWidget=function(t){var i=this;this.renderedWidgets.filter(function(e){return e.id===t.id}).forEach(function(e){i.renderedWidgets.splice(i.renderedWidgets.indexOf(e),1)}),this.buildLibrary()},e}(),u=function(){function e(){this.isDisplayed=!1}return e.prototype.edit=function(e,t){this.isDisplayed=!0,this.xPosition=e,this.yPosition=t},e.prototype.hide=function(){this.isDisplayed=!1,this.xPosition=null,this.yPosition=null},e}(),h=function(){function e(e,t,i){this.document=e,this.widgetsService=t,this.bootstrapService=i,this.layoutEditor=new u,this.resizeGuidelines=[],this.isOverlayDisplayed=!1}return e.prototype.onResize=function(){this.bootstrapService.hasBreakpointChanged()&&this.addHorizontalSpacers()},e.prototype.preventHighlightingWhileMoving=function(){this.document.body.classList.add("no-highlighting")},e.prototype.allowHighlighting=function(){this.document.body.classList.remove("no-highlighting")},e.prototype.createSpacer=function(){return{spacer:{}}},e.prototype.clearSpacers=function(){for(var e=this.items.length-1;0<=e;e--)this.items[e].spacer&&this.items.splice(e,1)},e.prototype.addHorizontalSpacers=function(){var t=this;this.clearSpacers();for(var e=0,i=[0],n=0;n<this.items.length;n++){var o=this.items[n].widget||this.items[n].dropTarget;if(!this.movingWidgetComponent||o!==this.movingWidgetComponent.widget){var r=this.bootstrapService.getWidth(o.getCurrentWidth.bind(o));(e+=r)===this.bootstrapService.maxColumns?(i.push(n+1),e=0):e>this.bootstrapService.maxColumns&&(i.push(n),e=r)}}i.reverse().forEach(function(e){t.items.splice(e,0,t.createSpacer())}),this.items[this.items.length-1].spacer||this.items.push(this.createSpacer())},e.prototype.toggleOverlay=function(){this.isOverlayDisplayed=!this.isOverlayDisplayed,this.isOverlayDisplayed?document.getElementById("overlay").style.display="block":document.getElementById("overlay").style.display="none"},e.prototype.ngOnInit=function(){var e=this.widgetsService.getRenderedWidgets();this.items=e.map(function(e){return{widget:e}}),this.addHorizontalSpacers();var t=this.widgetsService.getAvailableWidgets();this.library=new c(e,t)},e.prototype.onEditLibrary=function(e){this.library.edit(e.pageX,e.pageY),this.toggleOverlay()},e.prototype.onHideLibrary=function(){this.library.hide(),this.toggleOverlay()},e.prototype.clearExistingDropTarget=function(){for(var e=0;e<this.items.length;e++)this.items[e].dropTarget&&this.items.splice(e,1)},e.prototype.isWidgetMovingDown=function(e,t){return this.items.map(function(e){return e.widget}).indexOf(e)<t},e.prototype.insertDropTarget=function(e,t){t||(t=e),this.clearExistingDropTarget();var i,n=t.widget.clone();e instanceof l?(this.bootstrapService.makeFullWidth(n.makeFullWidth.bind(n)),i=this.items.map(function(e){return e.spacer}).indexOf(e.spacer)):(i=this.items.map(function(e){return e.widget}).indexOf(e.widget),this.isWidgetMovingDown(t.widget,i)&&i++);var o=t.getHeightInformation().height;this.items.splice(i,0,{dropTarget:n,height:o})},e.prototype.onWidgetMove=function(e){this.movingWidgetComponent=e,this.preventHighlightingWhileMoving(),this.insertDropTarget(e,null)},e.prototype.onWidgetDropped=function(){this.items.splice(this.items.map(function(e){return e.widget}).indexOf(this.movingWidgetComponent.widget),1);for(var e=0;e<this.items.length;e++)if(this.items[e].dropTarget){this.items.splice(e,1,{widget:this.movingWidgetComponent.widget});break}this.allowHighlighting(),this.movingWidgetComponent=null,this.addHorizontalSpacers()},e.prototype.onWidgetHovered=function(e){var t=this;this.movingWidgetComponent&&(console.log("test 0",new Date),this.moveHoverSubscription=i.Observable.of({}).delay(30).subscribe(function(){console.log("test",new Date),t.movingWidgetComponent&&(t.insertDropTarget(e,t.movingWidgetComponent),t.addHorizontalSpacers())}))},e.prototype.onWidgetUnhovered=function(){this.moveHoverSubscription&&(this.moveHoverSubscription.unsubscribe(),this.moveHoverSubscription=null)},e.prototype.onSpacerHovered=function(e){var t=this;this.movingWidgetComponent&&(this.moveHoverSubscription=i.Observable.of({}).delay(300).subscribe(function(){t.movingWidgetComponent&&(t.insertDropTarget(e,t.movingWidgetComponent),t.addHorizontalSpacers())}))},e.prototype.onSpacerUnhovered=function(){this.moveHoverSubscription&&(this.moveHoverSubscription.unsubscribe(),this.moveHoverSubscription=null)},e.prototype.makeGrid=function(){var e=[];e.push([]);for(var t=0,i=this.items.filter(function(e){return e.widget}).map(function(e){return e.widget}),n=0;n<i.length;n++){var o=i[n],r=this.bootstrapService.getWidth(o.getCurrentWidth.bind(o));if(e[e.length-1].push(o),t+=r,n===i.length-1)break;if(t===this.bootstrapService.maxColumns)e.push([]),t=0;else{var s=i[n+1],a=this.bootstrapService.getWidth(s.getCurrentWidth.bind(s));this.bootstrapService.maxColumns-t<a&&(e.push([]),t=0)}}return e},e.prototype.findRowContainingWidget=function(e){for(var t=this.makeGrid(),i=0;i<t.length;i++){if(0<=t[i].indexOf(e))return t[i]}},e.prototype.calculateBoundaries=function(e){var t=this,i=this.findRowContainingWidget(e);console.log("row",i);var n=i.slice(0,i.indexOf(e)+1).map(function(e){return t.bootstrapService.getWidth(e.getCurrentWidth.bind(e))}).reduce(function(e,t){return e+t}),o=this.bootstrapService.getWidth(e.getMinimumWidth.bind(e)),r=n-(this.bootstrapService.getWidth(e.getCurrentWidth.bind(e))-o);return{left:r,right:this.bootstrapService.maxColumns,offset:o-r}},e.prototype.drawResizeGuidelines=function(e){for(var t=e.getHeightInformation(),i=this.calculateBoundaries(e.widget),n=i.left;n<=i.right;n++)this.resizeGuidelines.unshift({widthOfGuideline:n,targetWidthOfWidget:n+i.offset,top:t.top,height:t.height,widget:e.widget})},e.prototype.onWidgetResized=function(e){var t=this.items.map(function(e){return e.widget}).indexOf(e);this.items.splice(t,1,{widget:e}),this.addHorizontalSpacers()},e.prototype.endWidgetResize=function(){this.resizeGuidelines=[],this.allowHighlighting(),this.mouseUpSubscription&&this.mouseUpSubscription.unsubscribe(),this.touchEndSubscription&&this.touchEndSubscription.unsubscribe()},e.prototype.onWidgetResizeStarted=function(e){var t=this;this.drawResizeGuidelines(e),this.preventHighlightingWhileMoving(),this.mouseUpSubscription=i.Observable.fromEvent(this.document,"mouseup").subscribe(function(){t.endWidgetResize(),t.mouseUpSubscription&&t.mouseUpSubscription.unsubscribe()}),this.touchEndSubscription=i.Observable.fromEvent(this.document,"touchend").subscribe(function(){t.endWidgetResize(),t.touchEndSubscription&&t.touchEndSubscription.unsubscribe()})},e.prototype.onRenderWidget=function(e){this.items.unshift({widget:e}),this.addHorizontalSpacers()},e.prototype.onDerenderWidget=function(t){var i=this;this.items.filter(function(e){return e.widget&&e.widget.id===t.id}).forEach(function(e){i.items.splice(i.items.indexOf(e),1)}),this.addHorizontalSpacers()},e.prototype.onEditLayout=function(e){this.layoutEditor.edit(e.pageX,e.pageY),this.toggleOverlay()},e.prototype.onHideLayoutEditor=function(){this.layoutEditor.hide(),this.toggleOverlay()},e.prototype.onWidgetCloseClick=function(t){var i=this;this.items.filter(function(e){return e.widget&&e.widget===t}).forEach(function(e){i.items.splice(i.items.indexOf(e),1)}),this.addHorizontalSpacers()},e.prototype.onWidgetToggleFullScreenClick=function(){this.toggleOverlay()},e.prototype.ngOnDestroy=function(){this.moveHoverSubscription&&this.moveHoverSubscription.unsubscribe(),this.mouseUpSubscription&&this.mouseUpSubscription.unsubscribe(),this.touchEndSubscription&&this.touchEndSubscription.unsubscribe()},e.decorators=[{type:o.Component,args:[{selector:"app-widgets-panel",template:"<app-widgets-panel-controls (editLibrary)='onEditLibrary($event)' (editLayout)='onEditLayout($event)'></app-widgets-panel-controls>\n<app-widgets-library *ngIf='library.isDisplayed' [library]='library' (done)='onHideLibrary()' (renderWidget)='onRenderWidget($event)' (derenderWidget)='onDerenderWidget($event)'></app-widgets-library>\n<app-widgets-layout-editor *ngIf='layoutEditor.isDisplayed' [layoutEditor]='layoutEditor' (done)='onHideLayoutEditor()'></app-widgets-layout-editor>\n<ng-container *ngFor='let item of items'>\n  <app-widget *ngIf='item.widget; else drop' [widget]='item.widget' (widgetMoving)='onWidgetMove($event)' (widgetDropped)='onWidgetDropped()' (widgetHovered)='onWidgetHovered($event)' (widgetUnhovered)='onWidgetUnhovered()' (resizeStarted)='onWidgetResizeStarted($event)'\n    (close)='onWidgetCloseClick($event)' (fullscreen)='onWidgetToggleFullScreenClick()'></app-widget>\n  <ng-template #drop>\n    <app-widget-drop-target *ngIf='item.dropTarget; else spacer' [dropTarget]='item.dropTarget' [height]='item.height'></app-widget-drop-target>\n    <ng-template #spacer>\n      <app-widgets-panel-spacer [spacer]='item.spacer' (spacerHovered)='onSpacerHovered($event)' (spacerUnhovered)='onSpacerUnhovered()'></app-widgets-panel-spacer>\n    </ng-template>\n  </ng-template>\n</ng-container>\n<app-widget-resize-guideline *ngFor='let guideline of resizeGuidelines' [guideline]='guideline' (resized)='onWidgetResized($event)'></app-widget-resize-guideline>",styles:[".moving-widget{position:absolute;pointer-events:none;z-index:100}"]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:[t.DOCUMENT]}]},{type:undefined,decorators:[{type:o.Inject,args:["widgetsService"]}]},{type:d}]},e.propDecorators={onResize:[{type:o.HostListener,args:["window:resize"]}]},e}(),g=function(){function e(e){this.elementRef=e,this.editLibrary=new o.EventEmitter,this.editLayout=new o.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){this.elementRef.nativeElement.classList.add("col-12")},e.prototype.onLibraryClick=function(e){this.editLibrary.emit(e)},e.prototype.onLayoutClick=function(e){this.editLayout.emit(e)},e.decorators=[{type:o.Component,args:[{selector:"app-widgets-panel-controls",template:"<span class='no-highlighting'>\n  <span class='material-icons' (click)='onLibraryClick($event)'>add</span>\n<span class='material-icons' (click)='onLayoutClick($event)'>dashboard</span>\n</span>",styles:[":host{margin-top:10px;margin-right:20px;text-align:right}"]}]}],e.ctorParameters=function(){return[{type:o.ElementRef}]},e.propDecorators={editLibrary:[{type:o.Output}],editLayout:[{type:o.Output}]},e}();function m(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,o,r=i.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(n=r.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(i=r["return"])&&i.call(r)}finally{if(o)throw o.error}}return s}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}var v=function(){function e(e,t,i,n){this.document=e,this.elementRef=t,this.zone=i,this.bootstrapService=n,this.widgetMoving=new o.EventEmitter,this.widgetDropped=new o.EventEmitter,this.widgetHovered=new o.EventEmitter,this.widgetUnhovered=new o.EventEmitter,this.resizeStarted=new o.EventEmitter,this.close=new o.EventEmitter,this.fullscreen=new o.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.getUserPosition=function(e){return e.changedTouches?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}},e.prototype.notModifiable=function(){if(this.widget.isFullScreen)return!0},e.prototype.notGrabbable=function(e){if(this.notModifiable())return!0;if(!e)return!0;var t=e.target||e.srcElement;return!t||(!!t.classList.contains("not-grabbable")||!!t.closest(".not-grabbable"))},e.prototype.startMove=function(e){this.widgetMoving.emit(this);var t=this.elementRef.nativeElement;this.initialPosition={y:t.style.top,x:t.style.left};var i=this.getUserPosition(e);this.moveStartPosition={x:e.touches?e.touches[0].pageX-t.offsetLeft:e.pageX-t.offsetLeft,y:e.touches?e.touches[0].pageY-t.offsetTop:e.pageY-t.offsetTop},t.style.left=i.x-this.moveStartPosition.x+"px",t.style.top=i.y-this.moveStartPosition.y+"px",t.classList.add("moving-widget")},e.prototype.move=function(e){var t=this.getUserPosition(e);this.elementRef.nativeElement.style.left=t.x-this.moveStartPosition.x+"px",this.elementRef.nativeElement.style.top=t.y-this.moveStartPosition.y+"px"},e.prototype.endMove=function(){this.widgetDropped.emit(),this.elementRef.nativeElement.classList.remove("moving-widget"),this.elementRef.nativeElement.style.top=this.initialPosition.y,this.elementRef.nativeElement.style.left=this.initialPosition.x},e.prototype.getHeightInformation=function(){var e=this.elementRef.nativeElement.getBoundingClientRect();return{height:e.height,top:e.top}},e.prototype.onWidgetMouseDown=function(e){var t=this;this.notGrabbable(e)||(this.startMove(e),this.mouseMoveSubscription=i.Observable.fromEvent(this.document,"mousemove").subscribe(function(e){t.zone.runOutsideAngular(function(){t.move(e)})}),this.mouseUpSubscription=i.Observable.fromEvent(this.document,"mouseup").subscribe(function(){t.endMove(),t.mouseMoveSubscription&&t.mouseMoveSubscription.unsubscribe(),t.mouseUpSubscription&&t.mouseUpSubscription.unsubscribe()}))},e.prototype.onWidgetTouchStart=function(e){var t=this;this.notGrabbable(e)||(e.preventDefault(),this.startMove(e),this.touchMoveSubscription=i.Observable.fromEvent(this.document,"touchmove").subscribe(function(e){t.zone.runOutsideAngular(function(){t.move(e)})}),this.touchEndSubscription=i.Observable.fromEvent(this.document,"touchend").subscribe(function(){t.endMove(),t.touchMoveSubscription&&t.touchMoveSubscription.unsubscribe(),t.touchEndSubscription&&t.touchEndSubscription.unsubscribe()}))},e.prototype.onWidgetMouseEnter=function(){this.widgetHovered.emit(this)},e.prototype.onWidgetTouchEnter=function(){this.widgetHovered.emit(this)},e.prototype.onWidgetMouseLeave=function(){this.widgetUnhovered.emit()},e.prototype.onWidgetTouchLeave=function(){this.widgetUnhovered.emit()},e.prototype.onResizerMouseDown=function(){if(this.notModifiable())return!0;this.resizeStarted.emit(this)},e.prototype.onResizerTouchStart=function(){if(this.notModifiable())return!0;this.resizeStarted.emit(this)},e.prototype.onCloseClick=function(){this.close.emit(this.widget)},e.prototype.onToggleFullScreenClick=function(){this.widget.toggleFullScreen();var e=this.elementRef.nativeElement;this.widget.isFullScreen?(e.classList.add("fullscreen"),e.style.top=15+window.scrollY+"px",e.style.bottom=15-window.scrollY+"px",e.style.left=0+window.scrollX+"px",e.style.right=0-window.scrollX+"px"):(e.classList.remove("fullscreen"),e.style.top=null,e.style.bottom=null,e.style.left=null,e.style.right=null),this.fullscreen.emit()},e.prototype.ngAfterContentInit=function(){this.elementRef.nativeElement.classList.add("widget");var e,t=this.bootstrapService.getClasses(this.widget);(e=this.elementRef.nativeElement.classList).add.apply(e,f(t)),this.widget.isHidden&&(this.elementRef.nativeElement.style.visibility="hidden")},e.prototype.ngAfterViewInit=function(){var t=this;this.zone.runOutsideAngular(function(){var e=t.elementRef.nativeElement.querySelector(".container");t.widget.render(e).then(function(){e.children[0].remove()})["catch"](function(e){return console.log(e)})})},e.prototype.ngOnDestroy=function(){this.mouseMoveSubscription&&this.mouseMoveSubscription.unsubscribe(),this.mouseUpSubscription&&this.mouseUpSubscription.unsubscribe(),this.touchMoveSubscription&&this.touchMoveSubscription.unsubscribe(),this.touchEndSubscription&&this.touchEndSubscription.unsubscribe()},e.decorators=[{type:o.Component,args:[{selector:"app-widget",template:"<div class='card card-row' (mouseenter)='onWidgetMouseEnter()' (touchenter)='onWidgetTouchEnter()' (mouseleave)='onWidgetMouseLeave()' (touchleave)='onWidgetTouchLeave()'>\n  <app-widget-controls [widget]='widget' (mousedown)='onWidgetMouseDown($event)' (touchstart)='onWidgetTouchStart($event)' (close)='onCloseClick()' (fullscreen)='onToggleFullScreenClick()'></app-widget-controls>\n  <div [ngClass]='widget.isExpanded || widget.isFullScreen ? \"maximized\" : \"minimized\"'>\n    <div class='container'>\n      <div [style.height]='widget.initialHeight'>\n        <div class='loader'>Loading...</div>\n      </div>\n    </div>\n    <div class='resizer d-none d-sm-inline' (mousedown)='onResizerMouseDown()' (touchstart)='onResizerTouchStart()'></div>\n  </div>\n</div>",styles:[":host{display:block}:host>div{height:100%;margin:0}.resizer{position:absolute;width:5px;height:98%;top:2px;right:2px;cursor:ew-resize}.maximized{opacity:1;transition-property:height,opacity;transition-duration:.2s,.5s}.minimized{opacity:0;transition-property:height,opacity;transition-duration:.5s,0;height:0!important}:host.fullscreen .resizer{cursor:default}:host.fullscreen{z-index:100;max-width:100%;position:absolute}.loader{color:gray;margin:auto;font-size:45px;top:calc(50% - 45px);text-indent:-9999em;overflow:hidden;width:1em;height:1em;border-radius:50%;position:relative;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:1.7s infinite load6,1.7s infinite round;animation:1.7s infinite load6,1.7s infinite round}@-webkit-keyframes load6{0%,100%,5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}}@keyframes load6{0%,100%,5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}}@-webkit-keyframes round{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes round{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:[t.DOCUMENT]}]},{type:o.ElementRef},{type:o.NgZone},{type:d}]},e.propDecorators={widget:[{type:o.Input}],widgetMoving:[{type:o.Output}],widgetDropped:[{type:o.Output}],widgetHovered:[{type:o.Output}],widgetUnhovered:[{type:o.Output}],resizeStarted:[{type:o.Output}],close:[{type:o.Output}],fullscreen:[{type:o.Output}]},e}(),y=function(){function e(e){this.elementRef=e,this.close=new o.EventEmitter,this.fullscreen=new o.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){this.elementRef.nativeElement.classList.add("col-12")},e.prototype.ngAfterViewInit=function(){var n=this;setTimeout(function(){var e=n.elementRef.nativeElement.children[0],t=e.offsetWidth,i=e.querySelector(".buttons").offsetWidth;e.querySelector(".title").style.width=92-i/t*100+"%"},0)},e.prototype.onCollapseClick=function(){this.widget.collapse()},e.prototype.onExpandClick=function(){this.widget.expand()},e.prototype.onCloseClick=function(){this.close.emit()},e.prototype.onToggleFullScreenClick=function(){this.fullscreen.emit()},e.decorators=[{type:o.Component,args:[{selector:"app-widget-controls",template:"<div>\n  <div class='title'>{{widget.title}}</div>\n  <div *ngIf='!widget.isFullScreen; else fullscreen' class='buttons no-highlighting not-grabbable'>\n    <span *ngIf='widget.isExpanded; else expand' class='material-icons' (click)='onCollapseClick()'>expand_less</span>\n    <ng-template #expand>\n      <span class='material-icons' (click)='onExpandClick()'>expand_more</span>\n    </ng-template>\n    <span class='material-icons d-none d-sm-inline' (click)='onToggleFullScreenClick()'>fullscreen</span>\n    <span class='material-icons' (click)='onCloseClick()'>close</span>\n  </div>\n  <ng-template #fullscreen>\n    <div class='material-icons buttons no-highlighting not-grabbable' (click)='onToggleFullScreenClick()'>fullscreen_exit</div>\n  </ng-template>\n</div>",styles:[":host{display:block;cursor:-webkit-grab;cursor:grab;overflow:hidden;margin-bottom:15px}:host>div>.title{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host>div>div:first-of-type{float:left}:host>div>div:last-of-type{float:right;cursor:default}.fullscreen :host{cursor:default}"]}]}],e.ctorParameters=function(){return[{type:o.ElementRef}]},e.propDecorators={widget:[{type:o.Input}],close:[{type:o.Output}],fullscreen:[{type:o.Output}]},e}(),b=function(){function e(e){this.elementRef=e,this.done=new o.EventEmitter,this.renderWidget=new o.EventEmitter,this.derenderWidget=new o.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){this.elementRef.nativeElement.classList.add("card","card-row","popup")},e.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement.getBoundingClientRect().width;this.elementRef.nativeElement.style.top=this.library.yPosition-20+"px",this.elementRef.nativeElement.style.left=this.library.xPosition-e+20+"px"},e.prototype.onDoneClick=function(){this.done.emit()},e.prototype.onCheckboxChange=function(e){e.isRendered?(this.library.derenderWidget(e.widget),this.derenderWidget.emit(e.widget)):(this.library.renderWidget(e.widget),this.renderWidget.emit(e.widget))},e.decorators=[{type:o.Component,args:[{selector:"app-widgets-library",template:"<div class='title'>Library</div>\n<ul class='list-group'>\n  <li *ngFor='let libraryWidget of library.widgets' class='list-group-item'>\n    <span>{{libraryWidget.widget.title}}</span>\n    \x3c!-- <span *ngIf='libraryWidget.isRendered; else not' class='material-icons' (click)='onRemoveWidget(libraryWidget.widget)'>remove_circle_outline</span>\n    <ng-template #not>\n      <span class='material-icons' (click)='onAddWidget(libraryWidget.widget)'>add_circle_outline</span>\n    </ng-template> --\x3e\n    \x3c!-- <div class='pretty p-switch p-fill'>\n      <input id='libraryWidget.widget.id' type='checkbox' [checked]='libraryWidget.isRendered' (change)='onCheckboxChange(libraryWidget)' />\n    </div> --\x3e\n    <span class='pretty p-switch p-fill'>\n      <input type='checkbox' [checked]='libraryWidget.isRendered' (change)='onCheckboxChange(libraryWidget)' />\n      <div class='state p-success'>\n        <label></label>\n      </div>\n    </span>\n  </li>\n</ul>\n<div class='button-container'>\n  <button class='btn btn-primary' (click)='onDoneClick()'>Done</button>\n</div>",styles:[":host{position:absolute;z-index:100;background:#fff}ul{list-style:none;padding:0;margin-bottom:20px}ul>li{overflow:hidden;text-overflow:ellipsis}ul>li>span:first-of-type{float:left;margin-right:30px}ul>li>span:last-of-type{float:right;margin-top:5px}label:after{margin-top:-1px}.pretty input{width:200%}"]}]}],e.ctorParameters=function(){return[{type:o.ElementRef}]},e.propDecorators={library:[{type:o.Input}],done:[{type:o.Output}],renderWidget:[{type:o.Output}],derenderWidget:[{type:o.Output}]},e}(),w=function(){function e(e,t){this.elementRef=e,this.bootstrapService=t}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){this.elementRef.nativeElement.style.height=this.height+"px";var e,t=this.bootstrapService.getClasses(this.dropTarget);(e=this.elementRef.nativeElement.classList).add.apply(e,f(t))},e.decorators=[{type:o.Component,args:[{selector:"app-widget-drop-target",template:"<div class='card card-row'></div>",styles:[":host>div{background:#d3d3d3;height:100%;margin:0}"]}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:d}]},e.propDecorators={dropTarget:[{type:o.Input}],height:[{type:o.Input}]},e}(),W=function(){function e(e,t){this.elementRef=e,this.bootstrapService=t,this.resized=new o.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){var e=this.elementRef.nativeElement;e.classList.add(this.bootstrapService.columnPrefix+this.guideline.widthOfGuideline),e.style.top=this.guideline.top+window.scrollY+"px",e.style.height=this.guideline.height+"px"},e.prototype.onHover=function(){var e=this.guideline.widget;this.guideline.targetWidthOfWidget!==this.bootstrapService.getWidth(e.getCurrentWidth.bind(e))&&(this.bootstrapService.resize(this.guideline.widget,this.guideline.targetWidthOfWidget),this.resized.emit(this.guideline.widget))},e.decorators=[{type:o.Component,args:[{selector:"app-widget-resize-guideline",template:"<div (mouseenter)='onHover()' (touchenter)='onHover()'></div>",styles:[":host{position:absolute}:host>div{border-right:1px dotted green;height:100%}"]}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:d}]},e.propDecorators={guideline:[{type:o.Input}],resized:[{type:o.Output}]},e}(),E=function(){function e(e){this.elementRef=e,this.done=new o.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){this.elementRef.nativeElement.classList.add("card","card-row","col-8","col-sm-6","popup")},e.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement.getBoundingClientRect().width;this.elementRef.nativeElement.style.top=this.layoutEditor.yPosition-20+"px",this.elementRef.nativeElement.style.left=this.layoutEditor.xPosition-e+20+"px"},e.prototype.onDoneClick=function(){this.done.emit()},e.decorators=[{type:o.Component,args:[{selector:"app-widgets-layout-editor",template:"<div class='title'>Layout Editor</div>\n<p>\n  <b>Coming Soon!</b>\n</p>\n<p>\n  This will allow some users to edit pages and make custom layouts targeted for specific roles in your organization.\n</p>\n<p>\n  For now, changes made will not be saved.\n</p>\n<div class='button-container'>\n  <button class='btn btn-primary' (click)='onDoneClick()'>Done</button>\n</div>",styles:[":host{position:absolute;z-index:100;background:#fff}"]}]}],e.ctorParameters=function(){return[{type:o.ElementRef}]},e.propDecorators={layoutEditor:[{type:o.Input}],done:[{type:o.Output}]},e}(),S=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:"widgetsService",useClass:e}]}},t.decorators=[{type:o.NgModule,args:[{declarations:[p,h,l,g,v,y,b,w,W,E],imports:[a.BrowserModule],exports:[p,h,l,g,v,y,b,w,W,E],providers:[d],bootstrap:[p]}]}],t}(),x=function(){function o(e,t,i,n,o,r,s){this.currentWidth=i,this.minimumWidth=n,this.isExpanded=!0,this.isFullScreen=!1,this.id=e,this.title=t,this.initialHeight=o,this.render=r.bind(this),this.isHidden=s,this.currentWidth=i,this.minimumWidth=Object.assign({},n),Object.freeze(this.minimumWidth)}return o.createAvailableWidget=function(e){var t=e.id,i=e.title,n=e.width;return new o(t,i,n,n,e.initialHeight,e.render,!1)},o.createRenderedWidget=function(e){return new o(e.id,e.title,e.currentWidth,e.minimumWidth,e.initialHeight,e.render,!1)},o.prototype.getCurrentWidth=function(e){return this.currentWidth[e]},o.prototype.getCurrentWidths=function(){return this.currentWidth},o.prototype.getMinimumWidth=function(e){return this.minimumWidth[e]},o.prototype.makeFullWidth=function(e,t){this.currentWidth[e]&&(this.currentWidth[e]=t)},o.prototype.resize=function(e,t){this.currentWidth[e]=t},o.prototype.expand=function(){this.isExpanded=!0},o.prototype.collapse=function(){this.isExpanded=!1},o.prototype.toggleFullScreen=function(){this.isFullScreen=!this.isFullScreen},o.prototype.clone=function(){return new o(this.id,this.title,this.currentWidth,this.minimumWidth,this.initialHeight,this.render,this.isHidden)},o}();e.DashboardModule=S,e.Widget=x,e.ɵa=p,e.ɵc=d,e.ɵi=w,e.ɵk=E,e.ɵh=b,e.ɵe=g,e.ɵb=h,e.ɵj=W,e.ɵd=l,e.ɵg=y,e.ɵf=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=navihealth-widget-dashboard-ng5.umd.min.js.map